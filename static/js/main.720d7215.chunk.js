(this.webpackJsonpjsGist=this.webpackJsonpjsGist||[]).push([[0],{36:function(e,t,n){e.exports=n(58)},41:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(28),s=n.n(o),c=(n(41),n(9)),i=n(1),l=n.n(i),u=n(2),d=n(16),h=n(3),m=n(7),p=n(5),v=n(6),g=n(4),f=/([a-z])([A-Z])/g,b=function(e,t,n){return"".concat(t,"-").concat(n)},E=function(e){return e.replace(f,b).toLowerCase()};function w(){for(var e=[],t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var r=0,o=n;r<o.length;r++){var s=o[r];if("string"===typeof s)e.push(s);else for(var c=0,i=Object.entries(s);c<i.length;c++){var l=Object(g.a)(i[c],2),u=l[0],d=l[1];d&&e.push(E(u))}}return e.join(" ")}function k(e){return r.a.createElement("input",{type:"text",onChange:function(t){e.onChange(t.target.value)},placeholder:e.placeholder,value:e.value})}var y=n(23),j=function(e){return JSON.parse(e.files["jsGist.json"].content)},S=function(){function e(){Object(h.a)(this,e),this.pat="",this.unAuthorizedOctokit=new y.a({userAgent:"jsGist v0.0.1"})}return Object(m.a)(e,[{key:"setPat",value:function(e){e!==this.pat&&(this.pat=e,this.authorizedOctokit=new y.a({auth:e,userAgent:"jsGist v0.0.1"}))}},{key:"getUserGists",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authorizedOctokit.paginate(this.authorizedOctokit.gists.list);case 2:return t=e.sent,e.abrupt("return",t.filter((function(e){return!!e.files["jsGist.json"]})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserGist",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.octokit.gists.get({gist_id:t});case 2:return n=e.sent,e.abrupt("return",j(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAnonGist",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.github.com/gists/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",j(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGist",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authorizedOctokit.gists.create({description:t.title,public:!0,files:{"jsGist.json":{content:JSON.stringify(t)}}});case 2:return n=e.sent,e.abrupt("return",n.data.id);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateGist",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(r.length>2&&void 0!==r[2])||r[2],e.next=3,this.authorizedOctokit.gists.update({gist_id:t,description:n.title,public:a,files:{"jsGist.json":JSON.stringify(n)}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"octokit",get:function(){return this.authorizedOctokit||this.unAuthorizedOctokit}}]),e}(),O=n(32),C=n.n(O),x=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){27===t.keyCode&&e.props.onClose()},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.children,a=e.onClose;return r.a.createElement("div",{onClick:a,className:"dialog"},r.a.createElement("div",{tabIndex:"-1",onClick:function(e){e.stopPropagation()}},r.a.createElement("div",{className:"dialog-heading"},r.a.createElement("div",{className:"dialog-title"},t),r.a.createElement("div",{className:"dialog-close"},r.a.createElement("button",{onClick:a},"\u2612"))),r.a.createElement("div",null,n)))}}]),n}(r.a.Component),N=new C.a.Converter,L="\nRun some code, own your data.\n\n## Contribute, Fix, Enhance!\n\n[https://github.com/greggman/jsgist](https://github.com/greggman/jsgist)\n\nAlso see [jsbenchit.org](https://jsbenchit.org)\n\n## Saving\n\nYou can save your tests in multiple ways.\n\n1. To a github gist using a [Personal Access Token](https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token)\n\n   Be sure to give the token **ONLY GIST** permissions. Paste it into the\n   save as UI click --Save to new gist--. Be sure to keep a copy of it\n   somewhere so you can use if you clear your browser's storage or switch\n   machines or browser. This site is a static site. The token is saved\n   in the browser only.\n\n2. Save it manually into github\n\n   Copy the JSON. Go to github. Create a new gist. Name the file\n   --jsGist.json--. Paste the JSON in. Pick \"Create public gist\".\n\n   Note the id in the URL after you create the gist.\n\n   Create a url in the form --https://jsgist.org/?src=<gist_id>--.\n\n   Example: https://jsgist.org/?src=025c51db6329e93a80140050857c2636\n\n3. Save it manually somewhere else.\n\n   If there's some other service that will provide a string via\n   http get then copy and save the JSON there then create a URL\n   in the form of --https://jsgist.org/?src=<url>--. Note: you\n   will have to escape the URL although if just paste it into your\n   browser it will likely do the conversion for you.\n\n4. Save it as a bookmark or link\n\n   In the SaveAs dialog there's a link that contains all the data\n   for your benchmark.\n\n## Saving Notes\n\n* --Save-- saves on top of an existing gist\n\n  --Save-- will not be enabled until you've added a Personal Access Token\n  and saved a gist.\n\n* --Save As-- creates a new gist/link/json\n\n## Comparing across browsers\n\nSaving saves the results of the benchmark so if you want to compare\nacross browsers:\n\n### With Personal Access Token\n\n1. Create your benchmark\n2. Run it\n3. Save a new gist using Personal Access Token\n4. Copy URL to another browser\n5. Run it\n6. Save over old gist using Personal Access Token\n\nRepeat steps 4, 5, 6 on other browsers. \n\n### With URL\n\n1. Create your benchmark\n2. Run it\n3. Pick Save and copy the URL\n4. Copy URL to another browser\n5. Run it\n6. Pick Save and copy the URL\n\nRepeat steps 4, 5, 6 on other browsers. \n\nNote: In general it only makes sense to compare results of browsers\non the same machine.\n\n\n\n\n\n\n\n".replace(/---/g,"```").replace(/--/g,"`"),A=N.makeHtml(L);function I(e){var t=e.onClose;return r.a.createElement(x,{title:"jsGist",onClose:t},r.a.createElement("div",{className:"markdown",dangerouslySetInnerHTML:{__html:A}}))}var R=n(19),G={};function P(e){var t=G[e]||{subscriptions:new Set};return G[e]=t,t}function T(e,t){var n=P(e);return void 0!==t&&(n.value=t),n}function U(e){return G[e]}function z(e,t){var n=G[e];if(!n)throw new Error("no such track value: ".concat(e));n.value=t;var a,r=Object(d.a)(n.subscriptions.keys()),o=Object(R.a)(r);try{for(o.s();!(a=o.n()).done;){(0,a.value)(t,e)}}catch(s){o.e(s)}finally{o.f()}}function J(e,t){P(e).subscriptions.add(t)}var V={title:"My Test",initialization:"// runs once",setup:"// runs before each test",tests:[{name:"test 1",code:"// put test code here",results:{},platforms:{}},{name:"test 2",code:"// put test code here",results:{},platforms:{}}]};function K(){return JSON.parse(JSON.stringify(V))}var M=K();function D(){z("dataVersion",U("dataVersion")+1)}function _(){var e="test ".concat(M.tests.length+1);M.tests.push({name:e,code:"// ".concat(e),results:{},platforms:{}}),D()}function H(e){M=e,D(),z("updateVersion",U("updateVersion")+1)}function W(e){return(t=e.results)&&!t.error&&!t.aborted;var t}function B(e){var t,n=e.hz,a=void 0===n?0:n,r=e.stats,o=void 0===r?{numSamples:0,rme:0}:r,s=(t=a.toFixed(a<100?2:0),t=String(t).split("."),"".concat(t[0].replace(/(?=(?:\d{3})+$)(?!\b)/g,",")).concat(t[1]?".".concat(t[1]):"")),c=o.rme.toFixed(2);return"".concat(s," ops/sec \xb1").concat(c,"% (runs: ").concat(o.numSamples,")")}T("dataVersion",0),T("updateVersion",0);function Y(e){var t,n,a,o=e.max,s=e.value,c=e.text,i=s/o;return r.a.createElement("div",{className:"result-result"},r.a.createElement("span",{style:{width:"".concat(100*i|0,"%"),backgroundColor:(t=1/7-i/7,n=1,a=.4,"hsl(".concat(360*t|0,", ").concat(100*n|0,"%, ").concat(100*a|0,"%)"))}},c))}function F(e){var t=e.max,n=e.test,a=n.name,o=n.results,s=B(o);return r.a.createElement("div",{className:"result"},r.a.createElement("div",{className:"result-name"},a),r.a.createElement(Y,{max:t,value:o.hz,className:"result-result",text:s}))}function $(e){var t=e.tests,n=t.filter(W).reduce((function(e,t){return Math.max(e,t.results.hz||0)}),0);return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement(F,{max:n,test:e,key:"res".concat(t)})})))}function Z(e){var t=e.tests;return r.a.createElement("div",null,r.a.createElement("div",null,"Latest Results:"),r.a.createElement($,{tests:t}))}var q=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).handlePATChange=function(t){var n=t.target.value;e.setState({pat:n}),localStorage.setItem("pat",n)},e.loadGists=function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r,o,s,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),a=e.props,r=a.addError,o=a.github,s=e.state.pat,o.setPat(s),t.prev=4,t.next=7,o.getUserGists();case 7:c=t.sent,e.setState({gists:c.map((function(e){return e}))}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),r("could not load gists: ".concat(t.t0));case 14:e.setState({loading:!1});case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}(),e.state={loading:!1,pat:localStorage.getItem("pat")||"",gists:[]},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.state,t=e.pat,n=e.gists,a=e.loading,o=!!t&&!a;return r.a.createElement("div",null,r.a.createElement("div",{className:"save-as-gist-pat"},r.a.createElement("div",null,"Personal Access Token:\xa0"),r.a.createElement("div",null,r.a.createElement("input",{type:"password",value:t,placeholder:"personal access token",onChange:this.handlePATChange}))),r.a.createElement("p",null,r.a.createElement("button",{className:w({disabled:!o}),onClick:this.loadGists},"Load Your Gists")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token"},"Create a Personal Access Token")," with only ",r.a.createElement("b",null,"gist")," permissions. Paste it above. Note: This is a static website. Your person access token is stored only locally in your browser and only accessible by this domain."),r.a.createElement("table",{className:"gists"},r.a.createElement("tbody",null,n.map((function(e,t){return r.a.createElement("tr",{key:"g".concat(t)},r.a.createElement("td",null,r.a.createElement("a",{href:"".concat(window.location.origin,"?src=").concat(encodeURIComponent(e.id))},e.description)),r.a.createElement("td",null,e.updated_at.substring(0,10)))})))))}}]),n}(r.a.Component),Q=n(33),X=(n(48),n(49),n(50),n(27),n(51),n(54),n(55),window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):{}),ee=function(){};function te(e){var t=e.value,n=e.hackKey,o=e.options,s=void 0===o?{}:o,i=e.onValueChange,l=void 0===i?ee:i,u=Object(a.useState)(t),d=Object(g.a)(u,2),h=d[0],m=d[1],p=X.matches;return r.a.createElement(Q.Controlled,{key:n,value:h,options:Object(c.a)({mode:"javascript",scrollbarStyle:"overlay",theme:p?"material":"eclipse"},s.editor&&s.editor),onBeforeChange:function(e,t,n){m(n)},onChange:function(e,t,n){l(n)}})}function ne(e){var t=Object(a.useState)(""),n=Object(g.a)(t,2),o=n[0],s=n[1];return r.a.createElement("div",null,r.a.createElement("div",{style:{height:"100px"}},r.a.createElement(te,{value:o,onValueChange:s})),r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){var t=e.onLoad,n=e.addError;try{H(JSON.parse(o)),t()}catch(a){n("bad json: ".concat(a))}}},"Load JSON")))}function ae(e){var t=Object(a.useState)(""),n=Object(g.a)(t,2),o=n[0],s=n[1];function c(){return(c=Object(u.a)(l.a.mark((function t(){var n,a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.addError,a=e.onLoad,t.prev=1,t.next=4,fetch(o);case 4:return r=t.sent,t.next=7,r.json();case 7:H(t.sent),a(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n("could not load url: ".concat(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(k,{value:o,onChange:s,placeholder:"url-to-json"}),r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return c.apply(this,arguments)}},"Load URL")))}function re(e){var t=e.heading,n=e.children;return r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"section-heading"},t),r.a.createElement("div",{className:"section-content"},n))}function oe(e){var t=e.data,n=e.github,a=e.onLoad,o=e.onClose,s=e.addError;return r.a.createElement(x,{title:"Load",onClose:o},r.a.createElement(re,{heading:"Load Gist"},r.a.createElement(q,{github:n,data:t,onLoad:a,addError:s})),r.a.createElement(re,{heading:"Load URL"},r.a.createElement(ae,{data:t,onLoad:a,addError:s})),r.a.createElement(re,{heading:"Load JSON"},r.a.createElement(ne,{data:t,onLoad:a,addError:s})))}var se=n(35);function ce(e){var t=e.value,n=e.hackKey,o=e.heading,s=e.extra,c=void 0===s?[]:s,i=e.options,l=void 0===i?{}:i,u=e.onValueChange,d=Object(a.useState)(!1!==e.show),h=Object(g.a)(d,2),m=h[0],p=h[1],v=!m;return r.a.createElement("div",{className:"code-area"},r.a.createElement("div",{className:"expander"},r.a.createElement("div",{className:"hider",onClick:function(){return p(!m)}},m?"\u25bc":"\u25c0"),o),r.a.createElement("div",{className:w("hidee",{hideeHide:v})},r.a.createElement(se.a,{style:{background:"red",position:"relative"},defaultSize:{height:200},minHeight:20,enable:{top:!1,right:!1,bottom:!0,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1}},r.a.createElement(te,{hackKey:n,value:t,options:l,onValueChange:u})),c))}function ie(e){var t=e.title,n=e.hackKey,a=r.a.createElement("div",{className:"named"},t);return r.a.createElement(ce,Object.assign({hackKey:n,heading:a},e))}var le=n(34);function ue(e){var t=e.tests,n=Object(d.a)(t.reduce((function(e,t){return Object.keys(t.platforms).reduce((function(e,t){return e.add(t),e}),e)}),new Set));return r.a.createElement("div",null,r.a.createElement("div",null,"Platforms:"),r.a.createElement("div",null,n.map((function(e,n){return r.a.createElement("div",{key:"plat".concat(n)},r.a.createElement("div",null,Object(le.parse)(e).description),r.a.createElement($,{tests:t.filter((function(t){return t.platforms[e]}))}))}))))}var de=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).handlePATChange=function(t){var n=t.target.value;e.setState({pat:n}),localStorage.setItem("pat",n)},e.onSaveNew=Object(u.a)(l.a.mark((function t(){var n,a,r,o,s,c,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({saving:!0}),n=e.props,a=n.data,r=n.github,o=n.addError,s=n.onSave,c=e.state.pat,r.setPat(c),t.prev=4,t.next=7,r.createGist(a);case 7:i=t.sent,s(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),o("could not create gist: ".concat(t.t0));case 14:e.setState({saving:!1});case 15:case"end":return t.stop()}}),t,null,[[4,11]])}))),e.onSaveOverExisting=Object(u.a)(l.a.mark((function t(){var n,a,r,o,s,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({saving:!0}),n=e.props,a=n.data,r=n.gistId,o=n.github,s=n.addError,c=e.state.pat,o.setPat(c),t.prev=4,t.next=7,o.updateGist(r,a);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),s("could not update gist: ".concat(t.t0));case 12:e.setState({saving:!1});case 13:case"end":return t.stop()}}),t,null,[[4,9]])}))),e.state={saving:!1,pat:localStorage.getItem("pat")||""},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.state.pat,t=this.props.gist_id,n=e&&t;return r.a.createElement("div",null,r.a.createElement("div",{className:"save-as-gist-pat"},r.a.createElement("div",null,"Personal Access Token:\xa0"),r.a.createElement("div",null,r.a.createElement("input",{type:"password",value:e,placeholder:"personal access token",onChange:this.handlePATChange}))),r.a.createElement("p",null,r.a.createElement("button",{className:w({disabled:!e}),onClick:this.onSaveNew},"Save to new Gist"),r.a.createElement("button",{className:w({disabled:!n}),onClick:this.onSaveOverExisting},"Update Existing Gist")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token"},"Create a Personal Access Token")," with only ",r.a.createElement("b",null,"gist")," permissions. Paste it above. Note: This is a static website. Your person access token is stored only locally in your browser and only accessible by this domain."))}}]),n}(r.a.Component);function he(e){var t=e.data;return r.a.createElement("div",null,r.a.createElement("div",null,"Copy the text below, paste into the load ui or put somewhere on the net and make your own URL with ",r.a.createElement("code",null,window.location.origin,"?src=url-to-json"),"."),r.a.createElement("pre",{style:{userSelect:"all"}},JSON.stringify(t)),r.a.createElement("div",null,r.a.createElement("a",{href:"".concat(window.location.origin,"?src=").concat(encodeURIComponent("".concat(window.location.origin,"/example.json")))},"Example")))}var me=n(22),pe=n(24),ve=new TextEncoder,ge=new TextDecoder,fe=function(e){return e.startsWith("cb64,")||e.startsWith("b64,")};function be(e){var t=e.startsWith("cb64,"),n=t?"cb64,":"b64,",a=e.substr(n.length).replace(/-/g,"+").replace(/_/g,"/"),r=new Uint8Array(Object(me.decode)(a)),o=t?Object(pe.b)(r):r,s=ge.decode(o);return JSON.parse(s)}function Ee(e){var t=function(e){var t=JSON.stringify(e),n=ve.encode(t),a=Object(pe.a)(n),r=a.length<n.length,o=Object(me.encode)(r?a:n).replace(/\+/g,"-").replace(/\//g,"_");return"".concat(r?"cb64,":"b64,").concat(o)}(e.data),n="".concat(window.location.origin,"?src=").concat(encodeURIComponent(t));return r.a.createElement("div",null,r.a.createElement("div",null,"copy / bookmark the link below"),r.a.createElement("a",{className:"bookmark",href:n,target:"_blank",rel:"noopener noreferrer"},n))}function we(e){var t=e.data,n=e.github,a=e.onSave,o=e.onClose,s=e.addError;return r.a.createElement(x,{title:"Save As",onClose:o},r.a.createElement(re,{heading:"Save As Gist"},r.a.createElement(de,{github:n,data:t,onSave:a,addError:s})),r.a.createElement(re,{heading:"Save As URL"},r.a.createElement(Ee,{data:t})),r.a.createElement(re,{heading:"Save As JSON"},r.a.createElement(he,{data:t})))}function ke(e){var t=e.desc,n=e.title,a=e.onTitleChange,o=e.hackKey,s=r.a.createElement(k,{placeholder:t,value:n,onChange:a});return r.a.createElement(ce,Object.assign({key:o},e,{heading:s}))}var ye=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,[{key:"run",value:function(e){return new Promise((function(t){var n=window.location.origin,a="\n      <".concat("script",' type="module" src="',n,'/error-reporter.js"></',"script",">\n      <","script",' src="').concat(n,'/3rdparty/lodash.js"></',"script",">\n      <","script",' src="').concat(n,'/3rdparty/platform.js"></',"script",">\n      <","script",' src="').concat(n,'/3rdparty/benchmark.js"></',"script",">\n      <","script",">\n      const model = ").concat(JSON.stringify(e),";\n      </","script",">\n      <","script",">\n      ").concat(e.initialization,"\n      </","script",">\n      <body>\n      </body>\n      <","script",' type="module" src="').concat(n,'/runner.js"></',"script",">\n      "),r=document.createElement("iframe");!function(){var e,t=Object(R.a)(M.tests);try{for(t.s();!(e=t.n()).done;){e.value.results={}}}catch(n){t.e(n)}finally{t.f()}D()}();var o={uncaughtError:function(e){},abort:function(e){},error:function(e){},cycle:function(e){var t=parseInt(e.name),n=Object(c.a)({},e);delete n.id,delete n.name,function(e,t,n){var a=M.tests[e];a.results=t,a.platforms[n]=a.platforms[n]||[],a.platforms[n][e]=t}(t,n,window.navigator.userAgent)},complete:function(e){window.removeEventListener("message",s),r.remove(),t(e)}},s=function(e){var t=e.data,n=t.type,a=t.data;o[n](a)};window.addEventListener("message",s);var i=new Blob([a],{type:"text/html"});r.sandbox="allow-scripts",r.src=URL.createObjectURL(i),r.style.display="none",document.body.appendChild(r)}))}}]),e}(),je=(n(57),/^[a-z0-9]+$/i);var Se=function(){return[]},Oe=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).addMsg=function(t,n){e.setState({messages:[{msg:t,className:n}].concat(Object(d.a)(e.state.messages))}),setTimeout((function(){e.setState({messages:e.state.messages.slice(0,e.state.messages.length-1)})}),5e3)},e.addInfo=function(t){return e.addMsg(t,"info")},e.addError=function(t){return e.addMsg(t,"error")},e.closeDialog=function(){e.setState({dialog:Se})},e.handleNew=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H(K());case 1:case"end":return e.stop()}}),e)}))),e.handleRun=Object(u.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({running:!0}),localStorage.setItem("backup",JSON.stringify({href:window.location.href,data:M})),console.log("--start--"),n=new ye,t.next=6,n.run(M);case 6:a=t.sent,console.log(a),console.log("--done--"),e.setState({running:!1});case 10:case"end":return t.stop()}}),t)}))),e.handleSave=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({dialog:e.renderSave});case 1:case"end":return t.stop()}}),t)}))),e.handleHelp=function(){e.setState({dialog:e.renderHelp})},e.handleLoad=function(){e.setState({dialog:e.renderLoad})},e.handleOnLoad=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({dialog:Se});case 1:case"end":return t.stop()}}),t)}))),e.handleOnSave=function(t){window.history.pushState({},"","".concat(window.location.origin,"?src=").concat(t)),e.setState({dialog:Se,gistId:t})},e.renderLoad=function(){return r.a.createElement(oe,{onLoad:e.handleOnLoad,onClose:e.closeDialog,addError:e.addError,github:e.github})},e.renderSave=function(){var t=M;return r.a.createElement(we,{onSave:e.handleOnSave,onClose:e.closeDialog,addError:e.addError,github:e.github,gistId:e.state.gistId,data:t})},e.state={path:window.location.pathname,running:!1,loading:!1,dialog:Se,dataVersion:0,gistId:"",pat:localStorage.getItem("pat"),messages:[]},e.github=new S,e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=Object.fromEntries(new URLSearchParams(window.location.search).entries()),n=localStorage.getItem("backup"),a=!1;if(n)try{var r=JSON.parse(n);r.href===window.location.href&&(H(r.data),a=!0,this.addInfo("loaded backup from local storage"))}catch(o){}!a&&t.src&&this.loadData(t.src),T("path",window.location.pathname),J("path",(function(t){window.history.pushState({},"",t),e.setState({path:t})})),J("dataVersion",(function(t){e.setState({dataVersion:t})})),J("updateVersion",(function(t){e.setState({updateVersion:t})}))}},{key:"loadData",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),e.prev=1,a=t,!je.test(a)){e.next=9;break}return e.next=5,this.github.getAnonGist(t);case 5:H(e.sent),e.next=21;break;case 9:if(!fe(t)){e.next=14;break}H(be(t)),e.next=21;break;case 14:return e.next=16,fetch(t);case 16:return n=e.sent,e.next=19,n.json();case 19:H(e.sent);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(1),console.warn(e.t0),this.addError("could not load benchmark: src=".concat(t));case 27:this.setState({loading:!1});case 28:case"end":return e.stop()}var a}),e,this,[[1,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderHelp",value:function(){return r.a.createElement(I,null)}},{key:"render",value:function(){var e=M,t=this.state,n=t.running,a=t.loading,o=t.dialog,s=t.updateVersion,i=n,l=Object(c.a)({},!n&&{display:"none"});return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"head"},r.a.createElement("div",null,r.a.createElement("img",{src:"/resources/images/logo.svg",alt:"logo"}),"jsGist.org"),r.a.createElement("div",null,r.a.createElement("a",{href:"https://github.com/greggman/jsgist/"},r.a.createElement("img",{alt:"github",src:"/resources/images/octocat-icon.svg"})))),r.a.createElement("div",{className:"top"},r.a.createElement("div",{className:w("left",{disabled:i})},r.a.createElement(k,{value:e.title,onChange:function(e){return t=e,M.title=t,void D();var t}})),r.a.createElement("div",{className:w("right",{disabled:i})},r.a.createElement("button",{tabIndex:"1",onClick:this.handleRun},"Run"),r.a.createElement("button",{tabIndex:"1",onClick:this.handleSave},"Save"),r.a.createElement("button",{tabIndex:"1",onClick:this.handleNew},"New"),r.a.createElement("button",{tabIndex:"1",onClick:this.handleLoad},"Load"),r.a.createElement("button",{tabIndex:"1",onClick:this.handleHelp},"?"))),a?[]:r.a.createElement("div",{className:"bottom"},r.a.createElement("div",{className:"left"},r.a.createElement(ie,{hackKey:s,title:"Initialization",value:e.initialization,show:e.initialization.length>0,onValueChange:function(e){return t=e,M.initialization=t,void D();var t}}),r.a.createElement(ie,{hackKey:s,title:"Before Each Test",value:e.setup,show:e.setup.length>0,onValueChange:function(e){return t=e,M.setup=t,void D();var t}}),e.tests.map((function(e,t){var n=r.a.createElement("div",null,r.a.createElement("button",{onClick:function(e){return function(e){M.tests.splice(e,1),D()}(t)}},"-"));return r.a.createElement(ke,{key:"ca".concat(t),hackKey:s,desc:"Case ".concat(t+1),title:e.name,value:e.code,async:e.async,onTitleChange:function(e){return function(e,t){M.tests[e].name=t,D()}(t,e)},onValueChange:function(e){return function(e,t){M.tests[e].code=t,D()}(t,e)},extra:n})})),r.a.createElement("div",null,r.a.createElement("button",{onClick:_},"+"),r.a.createElement("div",null,"foo"),r.a.createElement("div",null,"bar")),r.a.createElement("div",{className:"blocked",style:l})),r.a.createElement("div",{className:"right"},r.a.createElement(Z,{tests:e.tests}),r.a.createElement(ue,{tests:e.tests}))),o(),r.a.createElement("div",{className:"messages"},this.state.messages.map((function(e,t){var n=e.msg,a=e.className;return r.a.createElement("div",{className:a,key:"err".concat(t)},n)}))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.location.hostname.startsWith("localhost")?s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Oe,null)),document.getElementById("root")):document.body.innerHTML="<h1>coming soon...</h1>","serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.720d7215.chunk.js.map