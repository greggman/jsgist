{"version":3,"sources":["css-utils.js","EditLine.js","GitHub.js","Dialog.js","Help.js","model.js","Progress.js","color-utils.js","Results.js","LatestResults.js","LoadGist.js","Code.js","LoadJSON.js","LoadURL.js","Section.js","Load.js","CodeArea.js","NamedCodeArea.js","Platforms.js","SaveAsGist.js","SaveAsJSON.js","SaveAsURL.js","Save.js","TestArea.js","TestRunner.js","App.js","serviceWorker.js","index.js"],"names":["camelCaseRE","toDash","_","left","right","camelCaseToDash","s","replace","toLowerCase","classNames","names","args","arg","push","Object","entries","key","value","join","EditLine","props","type","onChange","e","target","placeholder","getGistContent","gist","JSON","parse","files","content","GitHub","this","pat","unAuthorizedOctokit","Octokit","userAgent","authorizedOctokit","auth","paginate","gists","list","filter","gist_id","octokit","get","fetch","req","json","data","create","description","title","public","stringify","id","isPublic","update","Dialog","handleKeyDown","keyCode","onClose","window","addEventListener","removeEventListener","children","onClick","className","tabIndex","stopPropagation","React","Component","converter","showdown","Converter","text","html","makeHtml","Help","dangerouslySetInnerHTML","__html","trackedValues","getValueOrMakeNew","name","trackedValue","subscriptions","Set","add","initialValue","undefined","set","newValue","Error","fns","keys","fn","subscribe","newTestData","code","results","platforms","getNewTestData","notify","addTest","tests","length","setData","newData","testResultsAreValid","test","error","aborted","formatResults","number","hz","stats","numSamples","rme","opsPerSec","toFixed","String","split","plusMinus","Progress","h","l","max","zeroToOne","style","width","backgroundColor","Result","msg","Results","reduce","Math","map","ndx","LatestResults","SaveAsGist","handlePATChange","setState","localStorage","setItem","loadGists","a","loading","addError","github","state","setPat","getUserGists","g","getItem","canLoad","disabled","href","location","origin","encodeURIComponent","updated_at","substring","darkMatcher","matchMedia","noop","Code","hackKey","options","onValueChange","useState","localValue","setLocalValue","isDarkMode","matches","mode","scrollbarStyle","theme","editor","onBeforeChange","LoadJSON","setJSON","height","onLoad","model","LoadURL","url","setUrl","Section","heading","Load","CodeArea","extra","show","setShow","hideeHide","background","position","defaultSize","minHeight","enable","top","bottom","topRight","bottomRight","bottomLeft","topLeft","NamedCodeArea","Platforms","plat","platform","onSaveNew","saving","onSave","createGist","onSaveOverExisting","gistId","updateGist","canSave","SaveAsJSON","userSelect","utf8Encoder","TextEncoder","utf8Decoder","TextDecoder","isCompressedBase64","startsWith","compressedBase64ToJSON","src","isCompressed","prefix","base64","substr","raw","Uint8Array","decode","bin","inflate","SaveAsURL","encode","compressed","deflate","useCompressed","jsonToCompressedBase64","rel","Save","TestArea","desc","onTitleChange","TestRunner","Promise","resolve","base","initialization","iframe","document","createElement","handlers","uncaughtError","abort","cycle","parseInt","navigator","complete","handleMessage","remove","blob","Blob","sandbox","URL","createObjectURL","display","body","appendChild","idRE","noJSX","App","addMsg","messages","setTimeout","slice","addInfo","closeDialog","dialog","handleNew","handleRun","running","console","log","testRunner","run","benches","handleSave","renderSave","handleHelp","renderHelp","handleLoad","renderLoad","handleOnLoad","handleOnSave","history","pushState","path","pathname","dataVersion","query","fromEntries","URLSearchParams","search","backup","loaded","loadData","updateVersion","getAnonGist","res","warn","hideStyle","alt","v","init","setup","splice","async","i","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","innerHTML","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.720d7215.chunk.js","sourcesContent":["const camelCaseRE = /([a-z])([A-Z])/g;\nconst toDash = (_, left, right) => `${left}-${right}`;\nconst camelCaseToDash = s => s.replace(camelCaseRE, toDash).toLowerCase();\n\nexport function classNames(...args) {\n  const names = [];\n  for (const arg of args) {\n    if (typeof arg === 'string') {\n      names.push(arg);\n    } else {\n      for (const [key, value] of Object.entries(arg)) {\n        if (value) {\n          names.push(camelCaseToDash(key));\n        }\n      }\n    }\n  }\n  return names.join(' ');\n}","import React from 'react';\n\nexport default function EditLine(props) {\n  return (\n    <input\n      type=\"text\"\n      onChange={(e) => {props.onChange(e.target.value)}}\n      placeholder={props.placeholder}\n      value={props.value} />\n  );\n}","import { Octokit } from '@octokit/rest';\n\nconst userAgent = 'jsGist v0.0.1';\n\nconst getGistContent = gist => JSON.parse(gist.files['jsGist.json'].content);\n\nexport default class GitHub {\n  constructor() {\n    this.pat = '';\n    this.unAuthorizedOctokit = new Octokit({\n      userAgent,\n    });\n  }\n  get octokit() {\n    return this.authorizedOctokit || this.unAuthorizedOctokit;\n  }\n  setPat(pat) {\n    if (pat !== this.pat) {\n      this.pat = pat;\n      this.authorizedOctokit = new Octokit({\n        auth: pat,\n        userAgent,\n      });\n    }\n  }\n  async getUserGists() {\n    const gists = await this.authorizedOctokit.paginate(this.authorizedOctokit.gists.list);\n    return gists.filter(gist => !!gist.files['jsGist.json']);\n    // return await this.authorizedOctokit.gists.list();\n  }\n  async getUserGist(gist_id) {\n    const gist = await this.octokit.gists.get({gist_id});\n    return getGistContent(gist);\n  }\n  async getAnonGist(gist_id) {\n    const req = await fetch(`https://api.github.com/gists/${gist_id}`);\n    const gist = await req.json();\n    return getGistContent(gist);\n  }\n  async createGist(data) {\n    const gist = await this.authorizedOctokit.gists.create({\n      description: data.title,\n      public: true,\n      files: {\n        'jsGist.json': {content: JSON.stringify(data)},\n      },\n    });\n    return gist.data.id;\n  }\n  /* returns \n{status: 201, url: \"https://api.github.com/gists\", headers: {…}, data: {…}}\ndata:\ncomments: 0\ncomments_url: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b/comments\"\ncommits_url: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b/commits\"\ncreated_at: \"2020-10-04T10:46:14Z\"\ndescription: \"bench test\"\nfiles: {bench.json: {…}}\nforks: []\nforks_url: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b/forks\"\ngit_pull_url: \"https://gist.github.com/92d9e8b2a5215b0217d459e735a9226b.git\"\ngit_push_url: \"https://gist.github.com/92d9e8b2a5215b0217d459e735a9226b.git\"\nhistory: [{…}]\nhtml_url: \"https://gist.github.com/92d9e8b2a5215b0217d459e735a9226b\"\nid: \"92d9e8b2a5215b0217d459e735a9226b\"\nnode_id: \"MDQ6R2lzdDkyZDllOGIyYTUyMTViMDIxN2Q0NTllNzM1YTkyMjZi\"\nowner: {login: \"greggman\", id: 234804, node_id: \"MDQ6VXNlcjIzNDgwNA==\", avatar_url: \"https://avatars2.githubusercontent.com/u/234804?v=4\", gravatar_id: \"\", …}\npublic: true\ntruncated: false\nupdated_at: \"2020-10-04T10:46:14Z\"\nurl: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b\"\nuser: null\nheaders: {cache-control: \"private, max-age=60, s-maxage=60\", content-length: \"4814\", content-type: \"application/json; charset=utf-8\", etag: \"\"124f123e0d75b88fa385c1e1edab1608fd7dd6624440f456cb0b3d92634e1fd9\"\", location: \"https://api.github.com/gists/92d9e8b2a5215b0217d459e735a9226b\", …}\nstatus: 201\nurl: \"https://api.github.com/gists\"\n  */\n  async updateGist(gist_id, data, isPublic = true) {\n    return await this.authorizedOctokit.gists.update({\n      gist_id,\n      description: data.title,\n      public: isPublic,\n      files: {\n        'jsGist.json': JSON.stringify(data),\n      },\n    });\n  }\n}\n","import React from 'react';\n\nexport default class Dialog extends React.Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = (e) => {\n    if (e.keyCode === 27) {\n      this.props.onClose();\n    }\n  }\n  render() {\n    const {title, children, onClose} = this.props;\n    return (\n      <div onClick={onClose} className=\"dialog\">\n        <div\n          tabIndex=\"-1\"\n          onClick={(e) =>{e.stopPropagation()}}\n        >\n          <div className=\"dialog-heading\">\n            <div className=\"dialog-title\">{title}</div>\n            <div className=\"dialog-close\">\n              <button onClick={onClose}>☒</button>\n            </div>\n          </div>\n          <div>\n            {children}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport showdown from 'showdown';\nimport Dialog from './Dialog.js';\n\nconst converter = new showdown.Converter();\nconst text = `\nRun some code, own your data.\n\n## Contribute, Fix, Enhance!\n\n[https://github.com/greggman/jsgist](https://github.com/greggman/jsgist)\n\nAlso see [jsbenchit.org](https://jsbenchit.org)\n\n## Saving\n\nYou can save your tests in multiple ways.\n\n1. To a github gist using a [Personal Access Token](https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token)\n\n   Be sure to give the token **ONLY GIST** permissions. Paste it into the\n   save as UI click --Save to new gist--. Be sure to keep a copy of it\n   somewhere so you can use if you clear your browser's storage or switch\n   machines or browser. This site is a static site. The token is saved\n   in the browser only.\n\n2. Save it manually into github\n\n   Copy the JSON. Go to github. Create a new gist. Name the file\n   --jsGist.json--. Paste the JSON in. Pick \"Create public gist\".\n\n   Note the id in the URL after you create the gist.\n\n   Create a url in the form --https://jsgist.org/?src=<gist_id>--.\n\n   Example: https://jsgist.org/?src=025c51db6329e93a80140050857c2636\n\n3. Save it manually somewhere else.\n\n   If there's some other service that will provide a string via\n   http get then copy and save the JSON there then create a URL\n   in the form of --https://jsgist.org/?src=<url>--. Note: you\n   will have to escape the URL although if just paste it into your\n   browser it will likely do the conversion for you.\n\n4. Save it as a bookmark or link\n\n   In the SaveAs dialog there's a link that contains all the data\n   for your benchmark.\n\n## Saving Notes\n\n* --Save-- saves on top of an existing gist\n\n  --Save-- will not be enabled until you've added a Personal Access Token\n  and saved a gist.\n\n* --Save As-- creates a new gist/link/json\n\n## Comparing across browsers\n\nSaving saves the results of the benchmark so if you want to compare\nacross browsers:\n\n### With Personal Access Token\n\n1. Create your benchmark\n2. Run it\n3. Save a new gist using Personal Access Token\n4. Copy URL to another browser\n5. Run it\n6. Save over old gist using Personal Access Token\n\nRepeat steps 4, 5, 6 on other browsers. \n\n### With URL\n\n1. Create your benchmark\n2. Run it\n3. Pick Save and copy the URL\n4. Copy URL to another browser\n5. Run it\n6. Pick Save and copy the URL\n\nRepeat steps 4, 5, 6 on other browsers. \n\nNote: In general it only makes sense to compare results of browsers\non the same machine.\n\n\n\n\n\n\n\n`.replace(/---/g, '```')\n .replace(/--/g, '`');\nconst html = converter.makeHtml(text);\n\nexport default function Help(props) {\n  const {onClose} = props;\n  return (\n    <Dialog title=\"jsGist\" onClose={onClose}>\n      <div className=\"markdown\" dangerouslySetInnerHTML={{__html: html}}/>\n    </Dialog>\n  );\n}","const isDev = process.env.NODE_ENV === 'development';\n\nconst trackedValues = {};\n\nfunction getValueOrMakeNew(name) {\n  const trackedValue = trackedValues[name] || {\n    subscriptions: new Set(),\n  };\n  trackedValues[name] = trackedValue;\n  return trackedValue;\n}\n\nexport function add(name, initialValue) {\n  const trackedValue = getValueOrMakeNew(name);\n  if (initialValue !== undefined) {\n    trackedValue.value = initialValue;\n  }\n  return trackedValue;\n}\n\nexport function get(name) {\n  return trackedValues[name];\n}\n\nexport function set(name, newValue) {\n  const trackedValue = trackedValues[name];\n  if (!trackedValue) {\n    throw new Error(`no such track value: ${name}`);\n  }\n  trackedValue.value = newValue;\n  const fns = [...trackedValue.subscriptions.keys()];\n  //setTimeout(() => {\n    for (const fn of fns) {\n      fn(newValue, name);\n    }\n  //});\n}\n\nexport function subscribe(name, fn) {\n  const trackedValue = getValueOrMakeNew(name);\n  trackedValue.subscriptions.add(fn);\n}\n\nexport function unsubscribe(name, fn) {\n  const trackedValue = getValueOrMakeNew(name);\n  trackedValue.subscriptions.delete(fn);\n}\n\nconst newTestData = {\n  \"title\": \"My Test\",\n  \"initialization\": \"// runs once\",\n  \"setup\": \"// runs before each test\",\n  \"tests\": [\n    {\n      name: \"test 1\",\n      code: \"// put test code here\",\n      results: {},\n      platforms: {},\n    },\n    {\n      name: \"test 2\",\n      code: \"// put test code here\",\n      results: {},\n      platforms: {},\n    },\n  ],\n};\nexport function getNewTestData() {\n  return JSON.parse(JSON.stringify(newTestData));\n}\n\n/* eslint no-template-curly-in-string:0 */\nexport let data = isDev ? {\n  \"title\": \"My test\",\n  \"setup\": \"\",\n  \"initialization\": \"const vowelArray = ['a', 'e', 'i', 'o', 'u'];\\nconst isVowelByArray = c => vowelArray.includes(c.toLowerCase());\\nconst isVowelByOr = c => {\\n  c = c.toLowerCase();\\n  return c === 'a' || c === 'e' || c === 'i' || c === 'o' || c === 'u';\\n}\\nconst test = new Array(1000).fill(0).map(_ => String.fromCharCode(0x61 + Math.random() * 26 | 0)).join('');\\nconst expected = test.split('').reduce((sum, c) => sum + isVowelByArray(c), 0);\\nconst verify = result => {\\n  if (result !== expected) {\\n    throw new Error(`actual: ${result} not equal to expected: ${expected}`);\\n  }\\n};\\nconsole.log('-setup-');\\n\",\n  \"tests\": [\n    {\n      \"name\": \"test1\",\n      \"code\": \"let sum = 0;\\nfor (let i = 0; i < test.length; ++i) {\\n  sum += isVowelByArray(test[i]);\\n}\\nverify(sum);\\n\",\n      \"results\": {\n        \"aborted\": false,\n        \"count\": 3925,\n        \"cycles\": 6,\n        \"hz\": 48757.763975155285,\n        \"stats\": {\n          \"numSamples\": 45,\n          \"moe\": 1.3253034196794547e-7,\n          \"rme\": 0.6461883133219702,\n          \"sem\": 6.761752141221708e-8,\n          \"deviation\": 5.409401712977366e-7,\n          \"mean\": 0.000020509554140127386,\n          \"variance\": 2.926162689236246e-13\n        },\n        \"times\": {\n          \"cycle\": 0.08049999999999999,\n          \"elapsed\": 6.087,\n          \"period\": 0.000020509554140127386,\n          \"timeStamp\": 1602070187852\n        }\n      },\n      \"platforms\": {\n        \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36\": [\n          {\n            \"aborted\": false,\n            \"count\": 3925,\n            \"cycles\": 6,\n            \"hz\": 48757.763975155285,\n            \"stats\": {\n              \"numSamples\": 45,\n              \"moe\": 1.3253034196794547e-7,\n              \"rme\": 0.6461883133219702,\n              \"sem\": 6.761752141221708e-8,\n              \"deviation\": 5.409401712977366e-7,\n              \"mean\": 0.000020509554140127386,\n              \"variance\": 2.926162689236246e-13\n            },\n            \"times\": {\n              \"cycle\": 0.08049999999999999,\n              \"elapsed\": 6.087,\n              \"period\": 0.000020509554140127386,\n              \"timeStamp\": 1602070187852\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"test2\",\n      \"code\": \"let sum = 0;\\nfor (let i = 0; i < test.length; ++i) {\\n  sum += isVowelByOr(test[i]);\\n}\\nverify(sum);\\n\",\n      \"results\": {\n        \"aborted\": false,\n        \"count\": 4467,\n        \"cycles\": 4,\n        \"hz\": 55738.7911907046,\n        \"stats\": {\n          \"numSamples\": 45,\n          \"moe\": 1.6987329815854215e-7,\n          \"rme\": 0.9468532294935285,\n          \"sem\": 8.667005008088886e-8,\n          \"deviation\": 6.879221958946363e-7,\n          \"mean\": 0.00001794082682164028,\n          \"variance\": 4.732369476044983e-13\n        },\n        \"times\": {\n          \"cycle\": 0.08014167341226712,\n          \"elapsed\": 5.979,\n          \"period\": 0.00001794082682164028,\n          \"timeStamp\": 1602070193946\n        }\n      },\n      \"platforms\": {\n        \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36\": [\n          null,\n          {\n            \"aborted\": false,\n            \"count\": 4467,\n            \"cycles\": 4,\n            \"hz\": 55738.7911907046,\n            \"stats\": {\n              \"numSamples\": 45,\n              \"moe\": 1.6987329815854215e-7,\n              \"rme\": 0.9468532294935285,\n              \"sem\": 8.667005008088886e-8,\n              \"deviation\": 6.879221958946363e-7,\n              \"mean\": 0.00001794082682164028,\n              \"variance\": 4.732369476044983e-13\n            },\n            \"times\": {\n              \"cycle\": 0.08014167341226712,\n              \"elapsed\": 5.979,\n              \"period\": 0.00001794082682164028,\n              \"timeStamp\": 1602070193946\n            }\n          }\n        ]\n      }\n    }\n  ]\n} : getNewTestData();\n\nadd('dataVersion', 0);   // any data changes\nadd('updateVersion', 0);  // all data changes\n\nfunction notify() {\n  set('dataVersion', get('dataVersion') + 1);\n}\n\nexport function addTest() {\n  const name = `test ${data.tests.length + 1}`;\n  data.tests.push({\n    name,\n    code: `// ${name}`,\n    results: {},\n    platforms: {},\n  });\n  notify();\n}\n\nexport function setTitle(title) {\n  data.title = title;\n  notify();\n}\n\nexport function setInitialization(init) {\n  data.initialization = init;\n  notify();\n}\n\nexport function setSetup(setup) {\n  data.setup = setup;\n  notify();\n}\n\nexport function setTestName(ndx, name) {\n  data.tests[ndx].name = name;\n  notify();\n}\n\nexport function setTestCode(ndx, code) {\n  data.tests[ndx].code = code;\n  notify();\n}\n\nexport function setTestResult(ndx, results, platform) {\n  const test = data.tests[ndx];\n  test.results = results;\n  test.platforms[platform] = test.platforms[platform] || [];\n  test.platforms[platform][ndx] = results;\n}\n\nexport function deleteTest(ndx) {\n  data.tests.splice(ndx, 1);\n  notify();\n}\n\nexport function setData(newData) {\n  // TODO: Validate!\n  data = newData;\n  notify();\n  set('updateVersion', get('updateVersion') + 1);\n}\n\nexport function clearAllTestResults() {\n  for (const test of data.tests) {\n    test.results = {};\n  }\n  notify();\n}\n\nexport function resultsAreValid(results) {\n  return results && ! results.error && !results.aborted;\n}\n\nexport function testResultsAreValid(test) {\n  return resultsAreValid(test.results);\n}\n\nfunction formatNumber(number) {\n  number = String(number).split('.');\n  return `${number[0].replace(/(?=(?:\\d{3})+$)(?!\\b)/g, ',')}${(number[1] ? `.${number[1]}` : '')}`;\n}\n\nexport function formatResults(results) {\n  const {hz = 0, stats = {numSamples: 0, rme: 0}} = results;\n  const opsPerSec = formatNumber(hz.toFixed(hz < 100 ? 2 : 0));\n  const plusMinus = stats.rme.toFixed(2);\n  return `${opsPerSec} ops/sec ±${plusMinus}% (runs: ${stats.numSamples})`;\n}","import React from 'react';\nimport {hsl} from './color-utils.js';\n\nexport default function Progress(props) {\n  const {max, value, text} = props;\n  const zeroToOne = value / max;\n\n  return (\n    <div className=\"result-result\">\n        <span \n          style={{\n            width: `${zeroToOne * 100 | 0}%`,\n            backgroundColor: hsl(1 / 7 - zeroToOne / 7, 1, 0.4),\n          }}\n        >{text}</span>\n    </div>\n  );\n}\n","export const hsl = (h, s, l) => `hsl(${h * 360 | 0}, ${s * 100 | 0}%, ${l * 100 | 0}%)`;\n","import React from 'react';\nimport {formatResults, testResultsAreValid} from './model.js';\nimport Progress from './Progress.js';\n\nfunction Result(props) {\n  const {max, test} = props;\n  const {name, results} = test;\n  const msg = formatResults(results);\n  return (\n    <div className=\"result\">\n      <div className=\"result-name\">{name}</div>\n      <Progress\n        max={max}\n        value={results.hz}\n        className=\"result-result\"\n        text={msg}\n      />\n    </div>\n  )\n}\n\n\n\nexport default function Results(props) {\n  const {tests} = props;\n  const max = tests\n      .filter(testResultsAreValid)\n      .reduce((max, test) => Math.max(max, test.results.hz || 0), 0);\n  return (\n    <div>\n      {\n        tests.map((test, ndx) => (<Result max={max} test={test} key={`res${ndx}`} />))\n      }\n    </div>\n  );\n};","import React from 'react';\nimport Results from './Results';\n\nexport default function LatestResults(props) {\n  const {tests} = props;\n\n  return (\n    <div>\n      <div>Latest Results:</div>\n      <Results tests={tests} />\n    </div>\n  );\n}","import React from 'react';\nimport { classNames } from './css-utils.js';\n\nexport default class SaveAsGist extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      loading: false,\n      pat: localStorage.getItem('pat') || '',\n      gists: [],\n    };\n  }\n  handlePATChange = (e) => {\n    const pat = e.target.value;\n    this.setState({pat});\n    localStorage.setItem('pat', pat);\n  }\n  loadGists = async(e) => {\n    this.setState({loading: true});\n    const {addError, github} = this.props;\n    const {pat} = this.state;\n    github.setPat(pat);\n    try {\n      const gists = await github.getUserGists();\n      this.setState({\n        gists: gists.map(g => g),\n      });\n    } catch (e) {\n      addError(`could not load gists: ${e}`);\n    }\n    this.setState({loading: false});\n  }\n  render() {\n    const {pat, gists, loading} = this.state;\n    const canLoad = !!pat && !loading;\n    return (\n      <div>\n        <div className=\"save-as-gist-pat\">\n          <div>Personal Access Token:&nbsp;</div>\n          <div>\n            <input\n              type=\"password\"\n              value={pat}\n              placeholder=\"personal access token\"\n              onChange={this.handlePATChange}\n            />\n          </div>\n        </div>\n        <p>\n          <button\n            className={classNames({disabled: !canLoad})}\n            onClick={this.loadGists}\n          >Load Your Gists</button>\n        </p>\n        <p>\n          <a href=\"https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token\">Create a Personal Access Token</a> with only <b>gist</b> permissions.\n          Paste it above. Note: This is a static website. Your person access token\n          is stored only locally in your browser and only accessible by this domain.\n        </p>\n        <table className=\"gists\">\n          <tbody>\n          {\n            gists.map((gist, ndx) => {\n              return (\n                <tr key={`g${ndx}`}>\n                  <td><a href={`${window.location.origin}?src=${encodeURIComponent(gist.id)}`}>{gist.description}</a></td>\n                  <td>{gist.updated_at.substring(0, 10)}</td>\n                </tr>\n              );\n            })\n          }\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}","import React, {useState} from 'react';\nimport {Controlled as CodeMirror} from 'react-codemirror2';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/material.css';\nimport 'codemirror/theme/eclipse.css';\nimport 'codemirror/mode/javascript/javascript.js';\nimport 'codemirror/mode/htmlmixed/htmlmixed.js';\nimport 'codemirror/addon/scroll/simplescrollbars.js';\nimport 'codemirror/addon/scroll/simplescrollbars.css';\n\nconst darkMatcher = window.matchMedia\n    ? window.matchMedia('(prefers-color-scheme: dark)')\n    : {};\n// darkMatcher.addListener(render);\n\nconst noop = () => {};\n\nexport default function Code(props) {\n  const {value, hackKey, options = {}, onValueChange = noop} = props;\n  const [localValue, setLocalValue] = useState(value);\n  const isDarkMode = darkMatcher.matches;\n  return (\n    <CodeMirror\n      key={hackKey}\n      value={localValue}\n      options={{\n        mode: 'javascript',\n        scrollbarStyle: 'overlay',\n        theme: isDarkMode ? 'material' : 'eclipse',\n        ...(options.editor && options.editor),\n      }}\n      onBeforeChange={(editor, data, value) => {\n        setLocalValue(value);\n      }}\n      onChange={(editor, data, value) => {\n        onValueChange(value);\n      }}\n    />\n  );\n};\n","import React, {useState} from 'react';\nimport Code from './Code.js';\nimport * as model from './model.js';\n\nexport default function LoadJSON(props) {\n  const [json, setJSON] = useState('');\n  function load() {\n    const {onLoad, addError} = props;\n    try {\n      const data = JSON.parse(json);\n      model.setData(data);\n      onLoad();\n    } catch (e) {\n      addError(`bad json: ${e}`);\n    }\n  }\n  return (\n    <div>\n      <div style={{height: '100px'}}>\n        <Code\n          value={json}\n          onValueChange={setJSON}\n\n        />\n      </div>\n      <p>\n        <button onClick={load}>Load JSON</button>\n      </p>\n    </div>\n  )\n}","import React, {useState} from 'react';\nimport EditLine from './EditLine';\nimport * as model from './model.js';\n\nexport default function LoadURL(props) {\n  const [url, setUrl] = useState('');\n  async function loadUrl() {\n    const {addError, onLoad} = props;\n    try {\n      const req = await fetch(url);\n      const data = await req.json();\n      model.setData(data);\n      onLoad()\n    } catch(e) {\n      addError(`could not load url: ${e}`);\n    }\n  } \n  return (\n    <div>\n      <EditLine value={url} onChange={setUrl} placeholder=\"url-to-json\" />\n      <p>\n        <button onClick={loadUrl}>Load URL</button>\n      </p>\n    </div>\n  )\n}","import React from 'react';\n\nexport default function Section(props) {\n  const {heading, children} = props;\n  return (\n    <div className=\"section\">\n      <div className=\"section-heading\">{heading}</div>\n      <div className=\"section-content\">\n        {children}\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport Dialog from './Dialog.js';\nimport LoadGist from './LoadGist.js';\nimport LoadJSON from './LoadJSON.js';\nimport LoadURL from './LoadURL.js';\nimport Section from './Section.js';\n\nexport default function Load(props) {\n  const {data, github, onLoad, onClose, addError} = props;\n  return (\n    <Dialog title=\"Load\" onClose={onClose}>\n      <Section heading=\"Load Gist\">\n        <LoadGist github={github} data={data} onLoad={onLoad} addError={addError} />\n      </Section>\n      <Section heading=\"Load URL\">\n        <LoadURL data={data} onLoad={onLoad} addError={addError} />\n      </Section>\n      <Section heading=\"Load JSON\">\n        <LoadJSON data={data} onLoad={onLoad} addError={addError} />\n      </Section>\n    </Dialog>\n  )\n}\n","import React, {useState} from 'react';\nimport {Resizable} from 're-resizable';\nimport Code from './Code.js';\nimport {classNames} from './css-utils.js';\n\nexport default function CodeArea(props) {\n  const {value, hackKey, heading, extra = [], options = {}, onValueChange} = props;\n  const [show, setShow] = useState(props.show === false ? false : true);\n  const hideeHide = !show;\n  return (\n    <div className=\"code-area\">\n        <div className=\"expander\">\n          <div className=\"hider\" onClick={()=>setShow(!show)}>{show ? '▼' : '◀'}</div>\n          {heading}\n        </div>\n        <div className={classNames(\"hidee\", {hideeHide})}>\n          <Resizable\n            style={{background: 'red', position: 'relative'}}\n            defaultSize={{height: 200}}\n            minHeight={20}\n            enable={{top:false, right:false, bottom:true, left:false, topRight:false, bottomRight:false, bottomLeft:false, topLeft:false}}\n          >\n            <Code\n              hackKey={hackKey}\n              value={value}\n              options={options}\n              onValueChange={onValueChange}\n            />\n          </Resizable>\n          {extra}\n        </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport CodeArea from './CodeArea.js';\n\nexport default function NamedCodeArea(props) {\n  const {title, hackKey} = props;\n  const heading = (\n    <div className=\"named\">{title}</div>\n  );\n\n  return (\n    <CodeArea hackKey={hackKey} heading={heading} {...props} />\n  );\n}","import React from 'react';\nimport Results from './Results';\nimport {parse} from 'platform';\n\nexport default function Platforms(props) {\n  const {tests} = props;\n\n  // TODO: as this is costly we should decide how to optimize\n  // 1. change the format?\n  // 2. use shouldComponent\n  const platforms = [...tests.reduce((platforms, test) => {\n    return Object.keys(test.platforms).reduce((platforms, plat) => {\n      platforms.add(plat);\n      return platforms;\n    }, platforms);\n  }, new Set())];\n  \n  return (\n    <div>\n      <div>Platforms:</div>\n      <div>\n        {\n          platforms.map((platform, ndx) => {\n            return (\n              <div key={`plat${ndx}`}>\n                <div>{parse(platform).description}</div>\n                <Results tests={tests.filter(test => test.platforms[platform])} />\n              </div>\n            );\n          })\n        }\n      </div>\n    </div>\n  )\n}","import React from 'react';\nimport { classNames } from './css-utils.js';\n\nexport default class SaveAsGist extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      saving: false,\n      pat: localStorage.getItem('pat') || '',\n    };\n  }\n  handlePATChange = (e) => {\n    const pat = e.target.value;\n    this.setState({pat});\n    localStorage.setItem('pat', pat);\n  }\n  onSaveNew = async() => {\n    this.setState({saving: true});\n    const {data, github, addError, onSave} = this.props;\n    const {pat} = this.state;\n    github.setPat(pat);\n    try {\n      const gist_id = await github.createGist(data);\n      onSave(gist_id);\n    } catch (e) {\n      addError(`could not create gist: ${e}`)\n    }\n    this.setState({saving: false});\n  }\n  onSaveOverExisting = async() => {\n    this.setState({saving: true});\n    const {data, gistId, github, addError} = this.props;\n    const {pat} = this.state;\n    github.setPat(pat);\n    try {\n      await github.updateGist(gistId, data);\n    } catch (e) {\n      addError(`could not update gist: ${e}`)\n    }\n    this.setState({saving: false});\n  }\n  render() {\n    const {pat} = this.state;\n    const {gist_id} = this.props;\n    const canSave = pat && gist_id\n    return (\n      <div>\n        <div className=\"save-as-gist-pat\">\n          <div>Personal Access Token:&nbsp;</div>\n          <div>\n            <input\n              type=\"password\"\n              value={pat}\n              placeholder=\"personal access token\"\n              onChange={this.handlePATChange}\n            />\n          </div>\n        </div>\n        <p>\n          <button\n            className={classNames({disabled: !pat})}\n            onClick={this.onSaveNew}\n          >Save to new Gist</button>\n          <button\n            className={classNames({disabled: !canSave})}\n            onClick={this.onSaveOverExisting}\n          >Update Existing Gist</button>\n        </p>\n        <p>\n          <a href=\"https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token\">Create a Personal Access Token</a> with only <b>gist</b> permissions.\n          Paste it above. Note: This is a static website. Your person access token\n          is stored only locally in your browser and only accessible by this domain.\n        </p>\n      </div>\n    );\n  }\n}","import React from 'react';\n\nexport default function SaveAsJSON(props) {\n  const {data} = props;\n  return (\n    <div>\n      <div>\n        Copy the text below, paste into the load ui or put somewhere on the net\n        and make your own URL with <code>{window.location.origin}?src=url-to-json</code>.\n      </div>\n      <pre style={{userSelect: 'all'}}>{JSON.stringify(data)}</pre>\n      <div><a href={`${window.location.origin}?src=${encodeURIComponent(`${window.location.origin}/example.json`)}`}>Example</a></div>\n    </div>\n  );\n}","import React from 'react';\nimport {decode, encode} from 'base64-arraybuffer';\nimport {inflate, deflate} from 'uzip-module';\n\nconst utf8Encoder = new TextEncoder();\nconst utf8Decoder = new TextDecoder();\nconst compressedPrefix = 'cb64,';\nconst uncompressedPrefix = 'b64,';\n\nexport const isCompressedBase64 = s => s.startsWith(compressedPrefix) || s.startsWith(uncompressedPrefix);\nexport function compressedBase64ToJSON(src) {\n  const isCompressed = src.startsWith(compressedPrefix);\n  const prefix = isCompressed ? compressedPrefix : uncompressedPrefix;\n  const base64 = src.substr(prefix.length)\n     .replace(/-/g, '+')\n     .replace(/_/g, '/');\n  const raw = new Uint8Array(decode(base64));\n  const bin = isCompressed \n     ? inflate(raw)\n     : raw;\n  const json = utf8Decoder.decode(bin);\n  return JSON.parse(json);\n}\n\nexport function jsonToCompressedBase64(data) {\n  const json = JSON.stringify(data);\n  const bin = utf8Encoder.encode(json);\n  const compressed = deflate(bin);\n  const useCompressed = compressed.length < bin.length;\n  const base64 = encode(useCompressed ? compressed : bin)\n      .replace(/\\+/g, '-')    // better for URLs because + and / have to be escaped\n      .replace(/\\//g, '_');\n  const prefix = useCompressed ? compressedPrefix : uncompressedPrefix;\n  return `${prefix}${base64}`;\n}\n\nexport default function SaveAsURL(props) {\n  const {data} = props;\n  const src = jsonToCompressedBase64(data);\n  const url = `${window.location.origin}?src=${encodeURIComponent(src)}`;\n  return (\n    <div>\n      <div>copy / bookmark the link below</div>\n      <a className=\"bookmark\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">{url}</a>\n    </div>\n  );\n}\n","import React from 'react';\nimport Dialog from './Dialog.js';\nimport SaveAsGist from './SaveAsGist.js';\nimport SaveAsJSON from './SaveAsJSON.js';\nimport SaveAsURL from './SaveAsURL.js';\nimport Section from './Section.js';\n\nexport default function Save(props) {\n  const {data, github, onSave, onClose, addError} = props;\n  return (\n    <Dialog title=\"Save As\" onClose={onClose}>\n      <Section heading=\"Save As Gist\">\n        <SaveAsGist github={github} data={data} onSave={onSave} addError={addError} />\n      </Section>\n      <Section heading=\"Save As URL\">\n        <SaveAsURL data={data} />\n      </Section>\n      <Section heading=\"Save As JSON\">\n        <SaveAsJSON data={data} />\n      </Section>\n    </Dialog>\n  )\n}\n","import React from 'react';\nimport EditLine from './EditLine.js';\nimport CodeArea from './CodeArea.js';\n\nexport default function TestArea(props) {\n  const {desc, title, onTitleChange, hackKey} = props;\n  const heading = (\n    <EditLine\n      placeholder={desc}\n      value={title}\n      onChange={onTitleChange}\n    />\n  );\n\n  return (\n    <CodeArea key={hackKey} {...props} heading={heading} />\n  );\n}","import * as model from './model.js';\n\nexport default class TestRunner {\n  run(data) {\n    return new Promise(resolve => {\n      const base = process.env.NODE_ENV === 'development' ? 'http://localhost:8080' : window.location.origin;\n      const html = `\n      <${'script'} type=\"module\" src=\"${base}/error-reporter.js\"></${'script'}>\n      <${'script'} src=\"${base}/3rdparty/lodash.js\"></${'script'}>\n      <${'script'} src=\"${base}/3rdparty/platform.js\"></${'script'}>\n      <${'script'} src=\"${base}/3rdparty/benchmark.js\"></${'script'}>\n      <${'script'}>\n      const model = ${JSON.stringify(data)};\n      </${'script'}>\n      <${'script'}>\n      ${data.initialization}\n      </${'script'}>\n      <body>\n      </body>\n      <${'script'} type=\"module\" src=\"${base}/runner.js\"></${'script'}>\n      `;\n      const iframe = document.createElement('iframe');\n      model.clearAllTestResults();\n\n      const handlers = {\n        // window.addEventListener('error')\n        uncaughtError(data) {\n        },\n        // benchmark onAbort\n        abort(data) {\n        },\n        // benchmark onError\n        error(data) {\n        },\n        // benchmark onCycle\n        cycle(data) {\n          const ndx = parseInt(data.name);\n          const newData = {...data};\n          delete newData.id;\n          delete newData.name;\n          model.setTestResult(ndx, newData, window.navigator.userAgent);\n        },\n        // benchmark onComplete\n        complete(data) {\n          window.removeEventListener('message', handleMessage);\n          iframe.remove();\n          resolve(data);\n        },\n      }\n\n      const handleMessage = (e) => {\n        const {type, data} =  e.data;\n        handlers[type](data);\n      };\n      window.addEventListener('message', handleMessage);\n      const blob = new Blob([html], {type: 'text/html'});\n      iframe.sandbox = 'allow-scripts';\n      iframe.src = URL.createObjectURL(blob);\n      iframe.style.display = 'none';\n      document.body.appendChild(iframe);\n    });\n  }\n};","import React from 'react';\n\nimport { classNames } from './css-utils.js';\nimport EditLine from './EditLine.js';\nimport GitHub from './GitHub.js';\nimport Help from './Help.js';\nimport LatestResults from './LatestResults.js';\nimport Load from './Load.js';\nimport * as model from './model.js';\nimport NamedCodeArea from './NamedCodeArea.js';\nimport Platforms from './Platforms.js';\nimport Save from './Save.js';\nimport TestArea from './TestArea.js';\nimport TestRunner from './TestRunner.js';\nimport {isCompressedBase64, compressedBase64ToJSON} from './SaveAsURL.js';\n\nimport './App.css';\n\nconst idRE = /^[a-z0-9]+$/i;\nconst isGistId = s => idRE.test(s);\n\nif (process.env.NODE_ENV === 'development') {\n  window.d = model.data;\n}\n\nconst noJSX = () => [];\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      path: window.location.pathname,\n      running: false,\n      loading: false,\n      dialog: noJSX,\n      dataVersion: 0,\n      gistId: '',\n      pat: localStorage.getItem('pat'),\n      messages: [],\n    };\n    this.github = new GitHub();\n  }\n  componentDidMount() {\n    const query = Object.fromEntries(new URLSearchParams(window.location.search).entries());\n    const backup = localStorage.getItem('backup');\n    let loaded = false;\n    if (backup) {\n      try {\n        const data = JSON.parse(backup);\n        if (data.href === window.location.href) {\n          model.setData(data.data);\n          loaded = true;\n          this.addInfo('loaded backup from local storage')\n        }\n      } catch (e) {\n        //\n      }\n    }\n    if (!loaded && query.src) {\n      this.loadData(query.src);\n    }\n    model.add('path', window.location.pathname);\n    model.subscribe('path', (newValue) => {\n      window.history.pushState({}, '', newValue);\n      this.setState({\n        path: newValue,\n      });\n    });\n    // I still am not sure how I'm supposed to handle this.\n    // Putting my model in the state itself seems wrong\n    // and doesn't actually help since I'd have to \n    // generate an entirely new state object to change any\n    // nested property.\n    //\n    // Storing the data outside I see no way to tell\n    // components to re-render except to call forceUpdate\n    // which all the documentation says \"if you call this\n    // you're doing it wrong\".\n    //\n    // Redux is a joke. 50 lines code needed to set\n    // a single field. Repeat those 50 lines for every field.\n    // Things like redux-tools make it less to type those\n    // 50 lines but they still execute 50 to 500 lines of code\n    // just to set a single value.\n    model.subscribe('dataVersion', (dataVersion) => {\n      this.setState({dataVersion})\n    });\n    // this is a hack because I can't figure out how to\n    // update the CodeMirror areas\n    model.subscribe('updateVersion', (updateVersion) => {\n      this.setState({updateVersion})\n    });\n  }\n  async loadData(src) {\n    this.setState({loading: true});\n    try {\n      if (isGistId(src)) {\n        const data = await this.github.getAnonGist(src);\n        model.setData(data);\n      } else if (isCompressedBase64(src)) {\n        const data = compressedBase64ToJSON(src);\n        model.setData(data);\n      } else {\n        const res = await fetch(src);\n        const data = await res.json();\n        model.setData(data);\n      }\n    } catch (e) {\n      console.warn(e);\n      this.addError(`could not load benchmark: src=${src}`);\n    }\n    this.setState({loading: false});\n  }\n  addMsg = (msg, className) => {\n    this.setState({messages: [{msg, className}, ...this.state.messages]});\n    setTimeout(() => {\n      this.setState({messages: this.state.messages.slice(0, this.state.messages.length - 1)});\n    }, 5000);\n  }\n  addInfo = (msg) => this.addMsg(msg, 'info');\n  addError = (msg) => this.addMsg(msg, 'error');\n  closeDialog = () => {\n    this.setState({dialog: noJSX});\n  }\n  handleNew = async() => {\n    model.setData(model.getNewTestData());\n  }\n  handleRun = async () => {\n    this.setState({running: true});\n    localStorage.setItem('backup', JSON.stringify({\n      href: window.location.href,\n      data: model.data,\n    }));\n    console.log('--start--');\n    const testRunner = new TestRunner();\n    const benches = await testRunner.run(model.data);\n    console.log(benches);\n    console.log('--done--');\n    this.setState({running: false});\n  }\n  handleSave = async () => {\n    this.setState({dialog: this.renderSave});\n  }\n  handleHelp = () => {\n    this.setState({dialog: this.renderHelp});\n  }\n  handleLoad = () => {\n    this.setState({dialog: this.renderLoad});\n  }\n  handleOnLoad = async() => {\n    this.setState({dialog: noJSX});\n  }\n  handleOnSave = (gistId) => {\n    window.history.pushState({}, '', `${window.location.origin}?src=${gistId}`);\n    this.setState({dialog: noJSX, gistId});\n  }\n  renderHelp() {\n    return (<Help />);\n  }\n  renderLoad = () => {\n    return (\n      <Load\n        onLoad={this.handleOnLoad}\n        onClose={this.closeDialog}\n        addError={this.addError}\n        github={this.github}\n      />\n    );\n  }\n  renderSave = () => {\n    const data = model.data;\n    return (\n      <Save\n        onSave={this.handleOnSave}\n        onClose={this.closeDialog}\n        addError={this.addError}\n        github={this.github}\n        gistId={this.state.gistId}\n        data={data} />\n    );\n  }\n  render() {\n    const data = model.data;\n    const {running, loading, dialog, updateVersion: hackKey} = this.state;\n    const disabled = running;\n    const hideStyle = {\n      ...(!running && {display: 'none'}),\n    };\n    return (\n      <div className=\"App\">\n        <div className=\"head\">\n          <div>\n            <img src=\"/resources/images/logo.svg\" alt=\"logo\"/>\n          jsGist.org\n          </div>\n          <div>\n          <a href=\"https://github.com/greggman/jsgist/\">\n            <img alt=\"github\" src=\"/resources/images/octocat-icon.svg\"/>\n          </a>\n          </div>\n        </div>\n        <div className=\"top\">\n          <div className={classNames(\"left\", {disabled})}>\n            <EditLine value={data.title} onChange={v => model.setTitle(v)} />\n          </div>\n          <div className={classNames(\"right\", {disabled})}>\n            <button tabIndex=\"1\" onClick={this.handleRun}>Run</button>\n            <button tabIndex=\"1\" onClick={this.handleSave}>Save</button>\n            <button tabIndex=\"1\" onClick={this.handleNew}>New</button>\n            <button tabIndex=\"1\" onClick={this.handleLoad}>Load</button>\n            <button tabIndex=\"1\" onClick={this.handleHelp}>?</button>\n          </div>\n        </div>\n        {\n          loading ? [] : (\n            <div className=\"bottom\">\n              <div className=\"left\">\n                <NamedCodeArea\n                  hackKey={hackKey}\n                  title=\"Initialization\"\n                  value={data.initialization}\n                  show={data.initialization.length > 0}\n                  onValueChange={v => model.setInitialization(v)}\n                />\n                <NamedCodeArea\n                  hackKey={hackKey}\n                  title=\"Before Each Test\"\n                  value={data.setup}\n                  show={data.setup.length > 0}\n                  onValueChange={v => model.setSetup(v)}\n                 />\n                {\n                  data.tests.map((test, ndx) => {\n                    const extra = (\n                      <div><button onClick={_ => model.deleteTest(ndx)}>-</button></div>\n                    );\n                    return (\n                      <TestArea\n                        key={`ca${ndx}`}\n                        hackKey={hackKey}\n                        desc={`Case ${ndx + 1}`}\n                        title={test.name}\n                        value={test.code}\n                        async={test.async}\n                        onTitleChange={title => model.setTestName(ndx, title)}\n                        onValueChange={value => model.setTestCode(ndx, value)}\n                        extra={extra}\n                      />\n                    );\n                  })\n                }\n                <div>\n                  <button onClick={model.addTest}>+</button>\n                  <div>foo</div>\n                  <div>bar</div>\n                </div>\n                <div className=\"blocked\" style={hideStyle} />\n              </div>\n              <div className=\"right\">\n                <LatestResults tests={data.tests}/>\n                <Platforms tests={data.tests}/>\n              </div>\n            </div>\n          )\n        }\n        {dialog()}\n        <div className=\"messages\">\n          {\n            this.state.messages.map(({msg, className}, i) => (<div className={className} key={`err${i}`}>{msg}</div>))\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nif (window.location.hostname.startsWith('localhost')) {\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n} else {\n  document.body.innerHTML = '<h1>coming soon...</h1>';\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}