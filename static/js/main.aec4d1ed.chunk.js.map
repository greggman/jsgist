{"version":3,"sources":["EditLine.js","url.js","Disqus.js","Footer.js","GitHub.js","Dialog.js","Help.js","css-utils.js","utils.js","LoadGist.js","Code.js","model.js","LoadJSON.js","LoadURL.js","Section.js","Load.js","SaveAsGist.js","SaveAsJSON.js","SaveAsURL.js","Embed.js","Save.js","Settings.js","Split.js","CodeArea.js","TestArea.js","Runner.js","App.js","serviceWorker.js","index.js","icons/vertical-layout.svg","icons/horizontal-layout.svg","icons/two-by-two-layout.svg"],"names":["EditLine","props","type","onChange","e","target","value","placeholder","createURL","base","params","url","URL","searchParams","URLSearchParams","search","Object","entries","key","undefined","delete","set","toString","href","updateURL","window","location","history","replaceState","Disqus","handleMessage","data","console","log","iframeRef","current","style","height","React","createRef","addEventListener","this","removeEventListener","nextProps","disqusId","title","ref","src","Component","Footer","className","Fragment","emptyValue","getGistContent","gist","JSON","parse","files","content","filter","map","name","file","startsWith","substr","length","concat","createGistData","gist_id","reduce","trim","saveData","jsGistData","keys","stringify","description","public","settings","private","GitHub","pat","user","unAuthorizedOctokit","Octokit","userAgent","owner","login","avatarURL","avatar_url","event","Event","dispatchEvent","authorizedOctokit","auth","paginate","gists","list","octokit","get","_updateUserData","fetch","req","json","gistData","create","id","update","EventTarget","Dialog","handleKeyDown","keyCode","onClose","children","onClick","tabIndex","stopPropagation","Help","rel","camelCaseRE","toDash","_","left","right","camelCaseToDash","s","replace","toLowerCase","classNames","names","args","arg","push","join","noop","wait","ms","Promise","resolve","setTimeout","find","endings","ending","endsWith","getOrFind","f","LoadGist","handlePATChange","setState","localStorage","setItem","handleSubmit","preventDefault","loadGists","a","loading","addError","github","state","setPat","getUserGists","g","loggedIn","getItem","document","body","canLoad","display","disabled","ndx","origin","encodeURIComponent","updated_at","substring","darkMatcher","matchMedia","Code","hackKey","options","onValueChange","isDarkMode","matches","mode","scrollbarStyle","theme","editor","onBeforeChange","validator","Ajv","compile","schema","trackedValues","getValueOrMakeNew","trackedValue","subscriptions","Set","add","initialValue","newValue","Error","fns","fn","subscribe","newTestData","getBlankData","notify","setData","newData","errors","message","dataPath","validate","LoadJSON","useState","setJSON","onLoad","model","LoadURL","setUrl","Section","heading","Load","SaveAsGist","onSaveNew","markToSaveNewGist","markToUpdateGist","saving","onSave","success","createGist","gistId","onSaveOverExisting","updateGist","canSave","onSubmit","data-type","SaveAsJSON","userSelect","utf8Encoder","TextEncoder","utf8Decoder","TextDecoder","isCompressedBase64","compressedBase64ToJSON","isCompressed","prefix","base64","raw","Uint8Array","decode","bin","inflate","SaveAsURL","encode","compressed","deflate","useCompressed","jsonToCompressedBase64","Embed","Save","RadioOption","selected","radioSelected","Radio","selectedNdx","childNdx","newChildren","Children","child","isValidElement","cloneElement","class","v","verticalIcon","alt","horizontalIcon","twoByTwoIcon","distribute","items","buckets","extra","array","Array","fill","leap","halfLeap","i","getDirectionProps","direction","dimension","clientAxis","position","positionEnd","clientSize","width","computeNewSizes","startSizes","currentSizes","prevPaneNdx","gutterSize","minSize","deltaPX","outerSizePX","numPanes","gutterReservedSizesPX","nextPaneNdx","prevPaneStartSizePX","Math","ceil","spaceUsedByBothElementsPX","prevPaneNewSizePX","min","max","nextPaneNewSizePX","slice","GManSplit","_setSizes","sizes","handleMouseUp","handleMouseMove","dragging","computeNewSizesFn","onSetSizes","propSizes","mouseStart","stateSizes","setSizes","elementRef","handleMouseDown","prototype","indexOf","call","parentElement","recomputeSizes","numChildren","count","newSizes","totalSize","sum","normalizeSizes","minSizePX","totalSizePX","addSpaceForChildren","size","rest","totalGutterSpace","gutterStyle","gutterReservedSizes","first","forEach","onMouseDown","CodeArea","TestArea","Runner","divRef","nextState","oldData","mainHTML","mainJS","mainCSS","html","blob","Blob","createObjectURL","makeBlobURL","blank","sandbox","background","idRE","noJSX","makeDisqusId","loc","fromEntries","App","addMsg","msg","messages","addInfo","closeDialog","dialog","handleNew","handleRun","runningData","handleStop","handleSave","renderSave","handleSettings","renderSettings","handleHelp","renderHelp","handleLoad","renderLoad","handleOnLoad","handleOnSave","pushState","handleAbort","abort","path","pathname","dark","dataVersion","userData","updateVersion","query","backup","loaded","removeItem","loadData","test","getAnonGist","res","warn","desc","onTitleChange","newName","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","module","exports"],"mappings":"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","file":"static/js/main.aec4d1ed.chunk.js","sourcesContent":["import React from 'react';\n\nexport default function EditLine(props) {\n  return (\n    <input\n      type=\"text\"\n      onChange={(e) => {props.onChange(e.target.value)}}\n      placeholder={props.placeholder}\n      value={props.value} />\n  );\n}","export function createURL(base, params) {\n  const url = new URL(base);\n  const searchParams = new URLSearchParams(url.search);\n  for (const [key, value] of Object.entries(params)) {\n    if (value === undefined) {\n      searchParams.delete(key);\n    } else {\n      searchParams.set(key, value);\n    }\n  }\n  url.search = searchParams.toString();\n  return url.href;\n}\n\nexport function updateURL(params) {\n  const url = createURL(window.location.href, params);\n  window.history.replaceState({}, '', url.href);\n}\n\n","import React from 'react';\nimport {createURL} from './url.js';\n\nexport default class Disqus extends React.Component {\n  constructor() {\n    super();\n    this.iframeRef = React.createRef();\n  }\n  handleMessage = (e) => {\n    const {type, data} = e.data;\n    switch (type) {\n      case 'resize':\n        console.log('-got resize msg from comments.js--');\n        this.iframeRef.current.style.height = `${data.height}px`;\n        break;\n      default:\n        break;\n    }\n  }\n  componentDidMount() {\n    window.addEventListener('message', this.handleMessage);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('message', this.handleMessage);\n  }\n  shouldComponentUpdate(nextProps) {\n    return nextProps.disqusId !== this.disqusId;\n  }\n  render() {\n    const {disqusId, title} = this.props;\n    const url = createURL('https://jsgist.devcomments.org/comments.html', {disqusId, title});\n    return (\n      <div>\n        { disqusId ?\n          <iframe\n            ref={this.iframeRef}\n            title=\"comments\"\n            src={url}\n          /> : []\n        }\n      </div>\n    );\n  }\n}","\nimport React from 'react';\nimport Disqus from './Disqus.js';\n\nexport default function Footer(props) {\n  return (\n    <div className=\"comments\">\n      <hr/>\n      {/*\n      <div className=\"links\">\n         <a target=\"_blank\" href=\"https://github.com/greggman/jsgist/issues/new?assignees=&labels=suggested+topic&template=suggest-topic.md&title=%5BSUGGESTION%5D\">Suggestion</a>?<span> </span>\n         <a target=\"_blank\" href=\"https://github.com/greggman/jsgist/issues/new?assignees=&labels=&template=request.md&title=\">Request</a>?<span> </span>\n         <a target=\"_blank\" href=\"https://github.com/greggman/jsgist/issues/new?assignees=&labels=bug+%2F+issue&template=bug-issue-report.md&title=\">Issue</a>?<span> </span>\n         <a target=\"_blank\" href=\"https://github.com/greggman/jsgist/issues/new?assignees=&labels=bug+%2F+issue&template=bug-issue-report.md&title=\">Bug</a>?\n      </div>\n      */}\n      {\n        props.disqusId ? (\n          <React.Fragment>\n            <div className=\"comment-notes\">\n               Use <b>&lt;pre&gt;&lt;code&gt;</b>code goes here<b>&lt;/code&gt;&lt;/pre&gt;</b> for code blocks\n            </div>\n            <Disqus disqusId={props.disqusId} title={props.title} />\n          </React.Fragment>\n        ) : []\n      }\n    </div>\n  );\n}","import { Octokit } from '@octokit/rest';\n\nconst userAgent = 'jsGist v0.0.1';\nconst emptyValue = '/*bug-in-github-api-content-can-not-be-empty*/';\n\nfunction getGistContent(gist) {\n  const data = JSON.parse(gist.files['jsGist.json'].content);\n  data.files = Object.entries(gist.files)\n    .filter(([name]) => name !== 'jsGist.json')\n    .map(([name, file]) => {\n      return {\n        name,\n        content: file.content.startsWith(emptyValue)\n            ? file.content.substr(emptyValue.length)\n            : file.content,\n      }\n    }).concat(data.files || []);\n  return data;\n} \n\nfunction createGistData(data, gist_id) {\n  let files = data.files.reduce((files, file) => {\n    files[file.name] = {\n      content: file.content.trim() ? file.content : `${emptyValue}${file.content}`,\n    };\n    return files;\n  }, {});\n  const saveData = {\n    ...data,\n  };\n  /*\n  // we can't add a readme because we don't know the gist_id. I guess we would double\n  // save? create then update?\n\n  const lowerCaseFiles = Object.keys(files).map(n => n.toLowerCase());\n  const hadReadme = \n      lowerCaseFiles.includes('readme.md') ||\n      lowerCaseFiles.includes('readme.txt') ||\n      lowerCaseFiles.includes('readme');\n  if (!hadReadme) {\n    files['README.md'] = `# ${data.name}\\n\\n[jsGist Link](${window.location.origin}?src=${})`\n  }\n  */\n  const jsGistData = {}\n  files['jsGist.json'] = jsGistData;\n  const noDuplicateNames = Object.keys(files).length === data.files.length + 1;\n  if (noDuplicateNames) {\n    delete saveData.files;\n  } else {\n    // save the files in the json\n    files = {\n      'jsGist.json': jsGistData,\n    };\n  }\n  jsGistData.content = JSON.stringify(saveData);\n  return {\n    files,\n    description: data.name,\n    public: !data.settings.private,\n    ...(gist_id && {gist_id}),\n  };\n}\n\nexport default class GitHub extends EventTarget {\n  constructor() {\n    super();\n    this.pat = '';\n    this.user = {};\n    this.unAuthorizedOctokit = new Octokit({\n      userAgent,\n    });\n  }\n  get octokit() {\n    return this.authorizedOctokit || this.unAuthorizedOctokit;\n  }\n  _updateUserData(data) {\n    if (data.owner) {\n      this.user.name = data.owner.login;\n      this.user.avatarURL = data.owner.avatar_url;\n      const event = new Event('userdata');\n      event.data = {...this.user};\n      this.dispatchEvent(event);\n    }\n  }\n  setPat(pat) {\n    if (pat !== this.pat) {\n      this.pat = pat;\n      this.authorizedOctokit = new Octokit({\n        auth: pat,\n        userAgent,\n      });\n    }\n  }\n  async getUserGists() {\n    const gists = await this.authorizedOctokit.paginate(this.authorizedOctokit.gists.list);\n    return gists.filter(gist => !!gist.files['jsGist.json']);\n    // return await this.authorizedOctokit.gists.list();\n  }\n  async getUserGist(gist_id) {\n    const gist = await this.octokit.gists.get({gist_id});\n    this._updateUserData(gist.data);\n    return getGistContent(gist.data);\n  }\n  async getAnonGist(gist_id) {\n    const req = await fetch(`https://api.github.com/gists/${gist_id}`);\n    const gist = await req.json();\n    this._updateUserData(gist);\n    return getGistContent(gist);\n  }\n  async createGist(data) {\n    const gistData = createGistData(data);\n    const gist = await this.authorizedOctokit.gists.create(gistData);\n    this._updateUserData(gist.data);\n    return gist.data.id;\n  }\n  async updateGist(gist_id, data) {\n    const gistData = createGistData(data, gist_id);\n    return await this.authorizedOctokit.gists.update(gistData);\n  }\n}\n","import React from 'react';\n\nexport default class Dialog extends React.Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = (e) => {\n    if (e.keyCode === 27) {\n      this.props.onClose();\n    }\n  }\n  render() {\n    const {title, children, onClose} = this.props;\n    return (\n      <div onClick={onClose} className=\"dialog\">\n        <div\n          tabIndex=\"-1\"\n          onClick={(e) =>{e.stopPropagation()}}\n        >\n          <div className=\"dialog-heading\">\n            <div className=\"dialog-title\">{title}</div>\n            <div className=\"dialog-close\">\n              <button onClick={onClose}>X</button>\n            </div>\n          </div>\n          <div className=\"dialog-content\">\n            {children}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Dialog from './Dialog.js';\n\nexport default function Help(props) {\n  const {onClose} = props;\n  return (\n    <Dialog title=\"jsGist\" onClose={onClose}>\n      <div className=\"markdown\">\n      <p>Add your test cases, click <code>Run</code>.</p>\n      <h2>Contribute, Fix, Enhance!</h2>\n      <p>\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/greggman/jsgist\">https://github.com/greggman/jsgist</a>\n      </p>\n      <p>Also see <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://jsbenchit.org\">jsbenchit.org</a></p>\n      <h2>Saving</h2>\n      <p>You can save your tests in multiple ways.</p>\n      <ol>\n        <li>To a github gist using a <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token\">Personal Access Token</a>\n          <p>\n           Be sure to give the token <b>ONLY GIST</b> permissions. Paste it into the\n           save as UI click <code>Save to new gist</code>. Be sure to keep a copy of it\n           somewhere so you can use if you clear your browser's storage or switch\n           machines or browser. This site is a static site. The token is saved\n           in the browser only.\n          </p>\n        </li>\n        <li>Save it manually into github\n          <p>\n           Copy the JSON. Go to github. Create a new gist. Name the file\n           <code>jsGist.json</code> Paste the JSON in. Pick \"Create public gist\".\n          </p>\n          <p>\n           Note the id in the URL after you create the gist.\n          </p>\n          <p>\n           Create a url in the form <code>https://jsgist.org/?src=&lt;gist_id&gt;--</code>.\n          </p>\n          <p>\n           Example: <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://jsgist.org/?src=bad0a8491bd6614e729ff01cc14089c9\">https://jsbenchit.org/?src=bad0a8491bd6614e729ff01cc14089c9</a>\n          </p>\n        </li>\n        <li>Save it manually somewhere else.\n          <p>\n           If there's some other service that will provide a string via\n           http get then copy and save the JSON there then create a URL\n           in the form of <code>https://jsgist.org/?src=&lt;url&gt;</code>. Note: you\n           will have to escape the URL although if just paste it into your\n           browser it will likely do the conversion for you.\n          </p>\n        </li>\n        <li>Save it as a bookmark or link\n          <p>\n           In the SaveAs dialog there's a link that contains all the data\n           for your benchmark.\n          </p>\n        </li>\n      </ol>\n      </div>\n    </Dialog>\n  );\n}","const camelCaseRE = /([a-z])([A-Z])/g;\nconst toDash = (_, left, right) => `${left}-${right}`;\nconst camelCaseToDash = s => s.replace(camelCaseRE, toDash).toLowerCase();\n\nexport function classNames(...args) {\n  const names = [];\n  for (const arg of args) {\n    if (typeof arg === 'string') {\n      names.push(arg);\n    } else {\n      for (const [key, value] of Object.entries(arg)) {\n        if (value) {\n          names.push(camelCaseToDash(key));\n        }\n      }\n    }\n  }\n  return names.join(' ');\n}","export const noop = () => {};\nexport const wait = ms => new Promise(resolve => setTimeout(resolve, ms));\n\nfunction find(files, endings) {\n  // calling toLowerCase a bunch is bad but there will never be more than a few files\n  for (const ending of endings) {\n    const file = files.find(file => file.name.toLowerCase().endsWith(ending.toLowerCase()));\n    if (file) {\n      return file;\n    }\n  }\n  return '';\n}\n\nexport function getOrFind(files, name, ...endings) {\n  return files.find(f => f.name.toLowerCase() === name.toLowerCase) || find(files, endings);\n}\n","import React from 'react';\nimport {classNames} from './css-utils.js';\nimport {updateURL} from './url.js';\nimport {noop, wait} from './utils.js';\n\nexport default class LoadGist extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      loading: false,\n      pat: localStorage.getItem('pat') || '',\n      gists: [],\n    };\n  }\n  handlePATChange = (e) => {\n    const pat = e.target.value;\n    this.setState({pat});\n    localStorage.setItem('pat', pat);\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.loadGists();\n  }\n  componentDidMount() {\n    document.body.addEventListener('submit', this.handleSubmit);\n  }\n  componentWillUnmount() {\n    document.body.removeEventListener('submit', this.handleSubmit);\n  }\n  loadGists = async(e) => {\n    this.setState({loading: true});\n    const {addError, github} = this.props;\n    const {pat} = this.state;\n    github.setPat(pat);\n    try {\n      const gists = await github.getUserGists();\n      this.setState({\n        gists: gists.map(g => g),\n      });\n      // apparently we need to update the URL in order for the browser\n      // to save the password.\n      updateURL({loggedIn: true});\n      await wait();\n      updateURL({loggedIn: undefined});\n    } catch (e) {\n      addError(`could not load gists: ${e}`);\n    }\n    this.setState({loading: false});\n  }\n  render() {\n    const {pat, gists, loading} = this.state;\n    const canLoad = !!pat && !loading;\n    return (\n      <div>\n        <form>\n          <div className=\"save-as-gist-pat\">\n            <div>Personal Access Token:&nbsp;</div>\n            <div>\n              <input type=\"text\" name=\"username\" value=\"unused\" style={{display: 'none'}} onChange={noop} />\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={pat}\n                placeholder=\"personal access token\"\n                onChange={this.handlePATChange}\n              />\n            </div>\n          </div>\n          <p>\n            <button\n              type=\"submit\"\n              className={classNames({disabled: !canLoad})}\n            >Load Your Gists</button>\n          </p>\n        </form>\n        <p>\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/settings/tokens\">Create a Personal Access Token</a> with only <b>gist</b> permissions.\n          Paste it above. Note: This is a static website. Your person access token\n          is stored only locally in your browser and only accessible by this domain.\n        </p>\n        {\n          gists.length ?\n            <table className=\"gists\">\n              <tbody>\n              {\n                gists.map((gist, ndx) => {\n                  return (\n                    <tr key={`g${ndx}`}>\n                      <td><a href={`${window.location.origin}?src=${encodeURIComponent(gist.id)}`}>{gist.description}</a></td>\n                      <td>{gist.updated_at.substring(0, 10)}</td>\n                    </tr>\n                  );\n                })\n              }\n              </tbody>\n            </table> : []\n        }\n      </div>\n    );\n  }\n}","import React from 'react';\nimport {Controlled as CodeMirror} from 'react-codemirror2';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/material.css';\nimport 'codemirror/theme/eclipse.css';\nimport 'codemirror/mode/javascript/javascript.js';\nimport 'codemirror/mode/htmlmixed/htmlmixed.js';\nimport 'codemirror/addon/scroll/simplescrollbars.js';\nimport 'codemirror/addon/scroll/simplescrollbars.css';\n\nconst darkMatcher = window.matchMedia\n    ? window.matchMedia('(prefers-color-scheme: dark)')\n    : {};\n// darkMatcher.addListener(render);\n\nconst noop = () => {};\n\nexport default class Code extends React.Component {\n  constructor(props) {\n    super(props);\n    const {value, hackKey} = props;\n    this.state = {value, hackKey}\n  }\n  static getDerivedStateFromProps(props, state) {\n    const needNewData = state.hackKey !== props.hackKey;\n    return (needNewData)\n       ? {hackKey: props.hackKey, value: props.value}\n       : null;\n  }\n  render() {\n    const {options = {}, onValueChange = noop} = this.props;\n    const {value} =  this.state;\n    const isDarkMode = darkMatcher.matches;\n    return (\n      <CodeMirror\n        value={value}\n        options={{\n          mode: 'javascript',\n          scrollbarStyle: 'overlay',\n          theme: isDarkMode ? 'material' : 'eclipse',\n          ...(options.editor && options.editor),\n        }}\n        onBeforeChange={(editor, data, value) => {\n          this.setState({value});\n        }}\n        onChange={(editor, data, value) => {\n          onValueChange(value);\n        }}\n      />\n    );\n  }\n};\n","import Ajv from 'ajv';\nimport schema from './schema.json';\n\nconst ajv = new Ajv() // options can be passed, e.g. {allErrors: true}\nconst validator = ajv.compile(schema);\nconst isDev = process.env.NODE_ENV === 'development';\n\nconst trackedValues = {};\n\nfunction getValueOrMakeNew(name) {\n  const trackedValue = trackedValues[name] || {\n    subscriptions: new Set(),\n  };\n  trackedValues[name] = trackedValue;\n  return trackedValue;\n}\n\nexport function add(name, initialValue) {\n  const trackedValue = getValueOrMakeNew(name);\n  if (initialValue !== undefined) {\n    trackedValue.value = initialValue;\n  }\n  return trackedValue;\n}\n\nexport function get(name) {\n  return trackedValues[name].value;\n}\n\nexport function set(name, newValue) {\n  const trackedValue = trackedValues[name];\n  if (!trackedValue) {\n    throw new Error(`no such track value: ${name}`);\n  }\n  trackedValue.value = newValue;\n  const fns = [...trackedValue.subscriptions.keys()];\n  for (const fn of fns) {\n    fn(newValue, name);\n  }\n}\n\nexport function subscribe(name, fn) {\n  const trackedValue = getValueOrMakeNew(name);\n  trackedValue.subscriptions.add(fn);\n}\n\nexport function unsubscribe(name, fn) {\n  const trackedValue = getValueOrMakeNew(name);\n  trackedValue.subscriptions.delete(fn);\n}\n\nconst newTestData = {\n  \"name\": \"My jsGist\",\n  \"settings\": {},\n  \"files\": [\n    {\n      name: \"index.html\",\n      content: \"\",\n    },\n    {\n      name: \"index.css\",\n      content: \"\",\n    },\n    {\n      name: \"index.js\",\n      content: \"\",\n    },\n  ],\n};\nexport function getNewData() {\n  return JSON.parse(JSON.stringify(newTestData));\n}\nexport function getBlankData() {\n  const url = `${window.location.origin}/resources/images/logo.svg`;\n  return JSON.parse(JSON.stringify({\n    \"name\": \"jsGist\",\n    \"settings\": {},\n    \"files\": [\n      {\n        \"name\": \"index.html\",\n        \"content\": ``,\n      },\n      {\n        \"name\": \"index.css\",\n        \"content\": `\n          html, body {\n            margin: 0;\n            width: 100%;\n            height: 100%;\n            background-image: url(${url});\n            background-size: contain contain;\n            background-position: center center;\n            background-repeat: no-repeat no-repeat;\n          }\n          @media (prefers-color-scheme: dark) {\n            html {\n              background: #222;\n            }\n          }\n        `,\n      },\n      {\n        \"name\": \"index.js\",\n        \"content\": \"\",\n      }\n    ]\n  }));\n}\n\nexport let data = isDev ? {\n  \"name\": \"ThreeJSFundamentals Scenegraph Tank\",\n  \"settings\": {},\n  \"files\": [\n    {\n      \"name\": \"index.html\",\n      \"content\": \"<canvas id=\\\"c\\\"></canvas>\\n<div id=\\\"info\\\"></div>\",\n    },\n    {\n      \"name\": \"index.css\",\n      \"content\": \"body {\\n  margin: 0;\\n}\\n#c {\\n  width: 100vw;\\n  height: 100vh;\\n  display: block;\\n}\\n#info { \\n  position: absolute; \\n  left: 1em; \\n  top: 1em; \\n  background: rgba(0,0,0,.8); \\n  padding: .5em;\\n  color: white;\\n  font-family: monospace;\\n}\",\n    },\n    {\n      \"name\": \"index.js\",\n      \"content\": \"import * as THREE from 'https://threejsfundamentals.org/threejs/resources/threejs/r119/build/three.module.js';\\n\\nfunction main() {\\n  const canvas = document.querySelector('#c');\\n  const renderer = new THREE.WebGLRenderer({canvas: canvas});\\n  renderer.setClearColor(0xAAAAAA);\\n  renderer.shadowMap.enabled = true;\\n\\n  function makeCamera(fov = 40) {\\n    const aspect = 2;  // the canvas default\\n    const zNear = 0.1;\\n    const zFar = 1000;\\n    return new THREE.PerspectiveCamera(fov, aspect, zNear, zFar);\\n  }\\n  const camera = makeCamera();\\n  camera.position.set(8, 4, 10).multiplyScalar(3);\\n  camera.lookAt(0, 0, 0);\\n\\n  const scene = new THREE.Scene();\\n\\n  {\\n    const light = new THREE.DirectionalLight(0xffffff, 1);\\n    light.position.set(0, 20, 0);\\n    scene.add(light);\\n    light.castShadow = true;\\n    light.shadow.mapSize.width = 2048;\\n    light.shadow.mapSize.height = 2048;\\n\\n    const d = 50;\\n    light.shadow.camera.left = -d;\\n    light.shadow.camera.right = d;\\n    light.shadow.camera.top = d;\\n    light.shadow.camera.bottom = -d;\\n    light.shadow.camera.near = 1;\\n    light.shadow.camera.far = 50;\\n    light.shadow.bias = 0.001;\\n  }\\n\\n  {\\n    const light = new THREE.DirectionalLight(0xffffff, 1);\\n    light.position.set(1, 2, 4);\\n    scene.add(light);\\n  }\\n\\n  const groundGeometry = new THREE.PlaneBufferGeometry(50, 50);\\n  const groundMaterial = new THREE.MeshPhongMaterial({color: 0xCC8866});\\n  const groundMesh = new THREE.Mesh(groundGeometry, groundMaterial);\\n  groundMesh.rotation.x = Math.PI * -.5;\\n  groundMesh.receiveShadow = true;\\n  scene.add(groundMesh);\\n\\n  const carWidth = 4;\\n  const carHeight = 1;\\n  const carLength = 8;\\n\\n  const tank = new THREE.Object3D();\\n  scene.add(tank);\\n\\n  const bodyGeometry = new THREE.BoxBufferGeometry(carWidth, carHeight, carLength);\\n  const bodyMaterial = new THREE.MeshPhongMaterial({color: 0x6688AA});\\n  const bodyMesh = new THREE.Mesh(bodyGeometry, bodyMaterial);\\n  bodyMesh.position.y = 1.4;\\n  bodyMesh.castShadow = true;\\n  tank.add(bodyMesh);\\n\\n  const tankCameraFov = 75;\\n  const tankCamera = makeCamera(tankCameraFov);\\n  tankCamera.position.y = 3;\\n  tankCamera.position.z = -6;\\n  tankCamera.rotation.y = Math.PI;\\n  bodyMesh.add(tankCamera);\\n\\n  const wheelRadius = 1;\\n  const wheelThickness = .5;\\n  const wheelSegments = 6;\\n  const wheelGeometry = new THREE.CylinderBufferGeometry(\\n      wheelRadius,     // top radius\\n      wheelRadius,     // bottom radius\\n      wheelThickness,  // height of cylinder\\n      wheelSegments);\\n  const wheelMaterial = new THREE.MeshPhongMaterial({color: 0x888888});\\n  const wheelPositions = [\\n    [-carWidth / 2 - wheelThickness / 2, -carHeight / 2,  carLength / 3],\\n    [ carWidth / 2 + wheelThickness / 2, -carHeight / 2,  carLength / 3],\\n    [-carWidth / 2 - wheelThickness / 2, -carHeight / 2, 0],\\n    [ carWidth / 2 + wheelThickness / 2, -carHeight / 2, 0],\\n    [-carWidth / 2 - wheelThickness / 2, -carHeight / 2, -carLength / 3],\\n    [ carWidth / 2 + wheelThickness / 2, -carHeight / 2, -carLength / 3],\\n  ];\\n  const wheelMeshes = wheelPositions.map((position) => {\\n    const mesh = new THREE.Mesh(wheelGeometry, wheelMaterial);\\n    mesh.position.set(...position);\\n    mesh.rotation.z = Math.PI * .5;\\n    mesh.castShadow = true;\\n    bodyMesh.add(mesh);\\n    return mesh;\\n  });\\n\\n  const domeRadius = 2;\\n  const domeWidthSubdivisions = 12;\\n  const domeHeightSubdivisions = 12;\\n  const domePhiStart = 0;\\n  const domePhiEnd = Math.PI * 2;\\n  const domeThetaStart = 0;\\n  const domeThetaEnd = Math.PI * .5;\\n  const domeGeometry = new THREE.SphereBufferGeometry(\\n    domeRadius, domeWidthSubdivisions, domeHeightSubdivisions,\\n    domePhiStart, domePhiEnd, domeThetaStart, domeThetaEnd);\\n  const domeMesh = new THREE.Mesh(domeGeometry, bodyMaterial);\\n  domeMesh.castShadow = true;\\n  bodyMesh.add(domeMesh);\\n  domeMesh.position.y = .5;\\n\\n  const turretWidth = .1;\\n  const turretHeight = .1;\\n  const turretLength = carLength * .75 * .2;\\n  const turretGeometry = new THREE.BoxBufferGeometry(\\n      turretWidth, turretHeight, turretLength);\\n  const turretMesh = new THREE.Mesh(turretGeometry, bodyMaterial);\\n  const turretPivot = new THREE.Object3D();\\n  turretMesh.castShadow = true;\\n  turretPivot.scale.set(5, 5, 5);\\n  turretPivot.position.y = .5;\\n  turretMesh.position.z = turretLength * .5;\\n  turretPivot.add(turretMesh);\\n  bodyMesh.add(turretPivot);\\n\\n  const turretCamera = makeCamera();\\n  turretCamera.position.y = .75 * .2;\\n  turretMesh.add(turretCamera);\\n\\n  const targetGeometry = new THREE.SphereBufferGeometry(.5, 6, 3);\\n  const targetMaterial = new THREE.MeshPhongMaterial({color: 0x00FF00, flatShading: true});\\n  const targetMesh = new THREE.Mesh(targetGeometry, targetMaterial);\\n  const targetOrbit = new THREE.Object3D();\\n  const targetElevation = new THREE.Object3D();\\n  const targetBob = new THREE.Object3D();\\n  targetMesh.castShadow = true;\\n  scene.add(targetOrbit);\\n  targetOrbit.add(targetElevation);\\n  targetElevation.position.z = carLength * 2;\\n  targetElevation.position.y = 8;\\n  targetElevation.add(targetBob);\\n  targetBob.add(targetMesh);\\n\\n  const targetCamera = makeCamera();\\n  const targetCameraPivot = new THREE.Object3D();\\n  targetCamera.position.y = 1;\\n  targetCamera.position.z = -2;\\n  targetCamera.rotation.y = Math.PI;\\n  targetBob.add(targetCameraPivot);\\n  targetCameraPivot.add(targetCamera);\\n\\n  // Create a sine-like wave\\n  const curve = new THREE.SplineCurve( [\\n    new THREE.Vector2( -10, 0 ),\\n    new THREE.Vector2( -5, 5 ),\\n    new THREE.Vector2( 0, 0 ),\\n    new THREE.Vector2( 5, -5 ),\\n    new THREE.Vector2( 10, 0 ),\\n    new THREE.Vector2( 5, 10 ),\\n    new THREE.Vector2( -5, 10 ),\\n    new THREE.Vector2( -10, -10 ),\\n    new THREE.Vector2( -15, -8 ),\\n    new THREE.Vector2( -10, 0 ),\\n  ] );\\n\\n  const points = curve.getPoints( 50 );\\n  const geometry = new THREE.BufferGeometry().setFromPoints( points );\\n  const material = new THREE.LineBasicMaterial( { color : 0xff0000 } );\\n  const splineObject = new THREE.Line( geometry, material );\\n  splineObject.rotation.x = Math.PI * .5;\\n  splineObject.position.y = 0.05;\\n  scene.add(splineObject);\\n\\n  function resizeRendererToDisplaySize(renderer) {\\n    const canvas = renderer.domElement;\\n    const width = canvas.clientWidth;\\n    const height = canvas.clientHeight;\\n    const needResize = canvas.width !== width || canvas.height !== height;\\n    if (needResize) {\\n      renderer.setSize(width, height, false);\\n    }\\n    return needResize;\\n  }\\n\\n  const targetPosition = new THREE.Vector3();\\n  const tankPosition = new THREE.Vector2();\\n  const tankTarget = new THREE.Vector2();\\n\\n  const cameras = [\\n    { cam: camera, desc: 'detached camera', },\\n    { cam: turretCamera, desc: 'on turret looking at target', },\\n    { cam: targetCamera, desc: 'near target looking at tank', },\\n    { cam: tankCamera, desc: 'above back of tank', },\\n  ];\\n\\n  const infoElem = document.querySelector('#info');\\n\\n  function render(time) {\\n    time *= 0.001;\\n\\n    if (resizeRendererToDisplaySize(renderer)) {\\n      const canvas = renderer.domElement;\\n      cameras.forEach((cameraInfo) => {\\n        const camera = cameraInfo.cam;\\n        camera.aspect = canvas.clientWidth / canvas.clientHeight;\\n        camera.updateProjectionMatrix();\\n      });\\n    }\\n\\n    // move target\\n    targetOrbit.rotation.y = time * .27;\\n    targetBob.position.y = Math.sin(time * 2) * 4;\\n    targetMesh.rotation.x = time * 7;\\n    targetMesh.rotation.y = time * 13;\\n    targetMaterial.emissive.setHSL(time * 10 % 1, 1, .25);\\n    targetMaterial.color.setHSL(time * 10 % 1, 1, .25);\\n\\n    // move tank\\n    const tankTime = time * .05;\\n    curve.getPointAt(tankTime % 1, tankPosition);\\n    curve.getPointAt((tankTime + 0.01) % 1, tankTarget);\\n    tank.position.set(tankPosition.x, 0, tankPosition.y);\\n    tank.lookAt(tankTarget.x, 0, tankTarget.y);\\n\\n    // face turret at target\\n    targetMesh.getWorldPosition(targetPosition);\\n    turretPivot.lookAt(targetPosition);\\n\\n    // make the turretCamera look at target\\n    turretCamera.lookAt(targetPosition);\\n\\n    // make the targetCameraPivot look at the at the tank\\n    tank.getWorldPosition(targetPosition);\\n    targetCameraPivot.lookAt(targetPosition);\\n\\n    wheelMeshes.forEach((obj) => {\\n      obj.rotation.x = time * 3;\\n    });\\n\\n    const camera = cameras[time * .25 % cameras.length | 0];\\n    infoElem.textContent = camera.desc;\\n\\n    renderer.render(scene, camera.cam);\\n\\n    requestAnimationFrame(render);\\n  }\\n\\n  requestAnimationFrame(render);\\n}\\n\\nmain();\\n\",\n    }\n  ]\n} : getNewData();\n\nif (!validator(data)) {\n  console.log(validator.errors);\n}\n\nadd('dataVersion', 0);   // any data changes\nadd('updateVersion', 0);  // all data changes\n\nfunction notify() {\n  set('dataVersion', get('dataVersion') + 1);\n}\n\nfunction getUniqueName(basename) {\n  const filenames = new Set(data.files.map(f => f.name));\n  for (let count = data.files.length + 1; ; ++count) {\n    const name = `${basename}${count}`;\n    if (!filenames.has(name)) {\n      return name;\n    }\n  }\n}\n\nexport function addFile(name = \"\", content = \"\") {\n  name = name || getUniqueName('unnamed');\n  data.files.push({\n    name,\n    content,\n  });\n  notify();\n}\n\nexport function setName(name) {\n  data.name = name;\n  notify();\n}\n\nexport function setFileName(ndx, newName) {\n  data.files[ndx].name = newName;\n  notify();\n}\n\nexport function setFileContent(ndx, content) {\n  data.files[ndx].content = content;\n  notify();\n}\n\nexport function setFileType(ndx, type) {\n  data.files[ndx].type = type;\n  notify();\n}\n\nexport function deleteFile(ndx) {\n  data.files.splice(ndx, 1);\n  notify();\n}\n\nexport function validate(data) {\n  if (!validator(data)) {\n    debugger;\n    throw new Error(`data not valid:\\n${validator.errors.map(e => `${e.message}: ${e.dataPath}`)}`);\n  }\n}\n\nexport function setData(newData) {\n  validate(newData);\n  data = newData;\n  notify();\n  set('updateVersion', get('updateVersion') + 1);\n}\n","import React, {useState} from 'react';\nimport Code from './Code.js';\nimport * as model from './model.js';\n\nexport default function LoadJSON(props) {\n  const [json, setJSON] = useState('');\n  function load() {\n    const {onLoad, addError} = props;\n    try {\n      const data = JSON.parse(json);\n      model.setData(data);\n      onLoad();\n    } catch (e) {\n      addError(`bad json: ${e}`);\n    }\n  }\n  return (\n    <div>\n      <div style={{height: '100px'}}>\n        <Code\n          value={json}\n          onValueChange={setJSON}\n\n        />\n      </div>\n      <p>\n        <button onClick={load}>Load JSON</button>\n      </p>\n    </div>\n  )\n}","import React, {useState} from 'react';\nimport EditLine from './EditLine';\nimport * as model from './model.js';\n\nexport default function LoadURL(props) {\n  const [url, setUrl] = useState('');\n  async function loadUrl() {\n    const {addError, onLoad} = props;\n    try {\n      const req = await fetch(url);\n      const data = await req.json();\n      model.setData(data);\n      onLoad()\n    } catch(e) {\n      addError(`could not load url: ${e}`);\n    }\n  } \n  return (\n    <div>\n      <EditLine value={url} onChange={setUrl} placeholder=\"url-to-json\" />\n      <p>\n        <button onClick={loadUrl}>Load URL</button>\n      </p>\n    </div>\n  )\n}","import React from 'react';\n\nexport default function Section(props) {\n  const {heading, children} = props;\n  return (\n    <div className=\"section\">\n      <div className=\"section-heading\">{heading}</div>\n      <div className=\"section-content\">\n        {children}\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport Dialog from './Dialog.js';\nimport LoadGist from './LoadGist.js';\nimport LoadJSON from './LoadJSON.js';\nimport LoadURL from './LoadURL.js';\nimport Section from './Section.js';\n\nexport default function Load(props) {\n  const {data, github, onLoad, onClose, addError} = props;\n  return (\n    <Dialog title=\"Load\" onClose={onClose}>\n      <Section heading=\"Load Gist\">\n        <LoadGist github={github} data={data} onLoad={onLoad} addError={addError} />\n      </Section>\n      <Section heading=\"Load URL\">\n        <LoadURL data={data} onLoad={onLoad} addError={addError} />\n      </Section>\n      <Section heading=\"Load JSON\">\n        <LoadJSON data={data} onLoad={onLoad} addError={addError} />\n      </Section>\n    </Dialog>\n  )\n}\n","import React from 'react';\nimport {classNames} from './css-utils.js';\nimport {updateURL} from './url.js';\nimport {noop, wait} from './utils.js';\n\nexport default class SaveAsGist extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      saving: false,\n      pat: localStorage.getItem('pat') || '',\n    };\n  }\n  handlePATChange = (e) => {\n    const pat = e.target.value;\n    this.setState({pat});\n    localStorage.setItem('pat', pat);\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.onSaveNew();\n  }\n  // this nonsense about markToSaveAsNewGist and markToUpdateNewGist\n  // is because in order to get the browser to save the token as a password\n  // we need to use a form. The reason to save it is to that if you \n  // switch machines you don't have to go look up the password, the browser\n  // will hopefully offer it.\n  markToSaveNewGist = () => {\n    this.mode = 'new';\n  }\n  markToUpdateGist =  () => {\n    this.mode = 'update';\n  }\n  componentDidMount() {\n    document.body.addEventListener('submit', this.handleSubmit);\n  }\n  componentWillUnmount() {\n    document.body.removeEventListener('submit', this.handleSubmit);\n  }\n  onSaveNew = async() => {\n    this.setState({saving: true});\n    const {data, github, addError, onSave, onClose} = this.props;\n    const {pat} = this.state;\n    let success = false;\n    github.setPat(pat);\n    try {\n      const gistId = await github.createGist(data);\n      onSave(gistId);\n      success = true;\n    } catch (e) {\n      addError(`could not create gist: ${e}`)\n    }\n    this.setState({saving: false});\n    if (success) {\n      // we apparently need to update the URL in order for the browser\n      // to save the password.\n      updateURL({loggedIn: true});\n      await wait();\n      updateURL({loggedIn: undefined})\n      onClose();\n    }\n  }\n  onSaveOverExisting = async() => {\n    this.setState({saving: true});\n    const {data, gistId, github, addError, onClose} = this.props;\n    const {pat} = this.state;\n    let success = false;\n    github.setPat(pat);\n    try {\n      await github.updateGist(gistId, data);\n      success = true;\n    } catch (e) {\n      addError(`could not update gist: ${e}`)\n    }\n    this.setState({saving: false});\n    if (success) {\n      onClose();\n    }\n  }\n  render() {\n    const {pat} = this.state;\n    const {gistId} = this.props;\n    const canSave = pat && gistId;\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"save-as-gist-pat\">\n            <div>Personal Access Token:&nbsp;</div>\n            <div>\n              <input type=\"text\" name=\"username\" value=\"unused\" style={{display: 'none'}} onChange={noop} />\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={pat}\n                placeholder=\"personal access token\"\n                onChange={this.handlePATChange}\n              />\n            </div>\n          </div>\n          <p>\n            <button\n              type=\"submit\"\n              className={classNames({disabled: !pat})}\n              data-type=\"new\"\n              onClick={this.markToSaveNewGist}\n            >Save to new Gist</button>\n            <button\n              className={classNames({disabled: !canSave})}\n              type=\"submit\"\n              data-type=\"update\"\n              onClick={this.markToUpdateGist}\n            >Update Existing Gist</button>\n          </p>\n          <p>\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/settings/tokens\">Create a Personal Access Token</a> with only <b>gist</b> permissions.\n            Paste it above. Note: This is a static website. Your person access token\n            is stored only locally in your browser and only accessible by this domain.\n          </p>\n        </form>\n      </div>\n    );\n  }\n}","import React from 'react';\n\nexport default function SaveAsJSON(props) {\n  const {data} = props;\n  return (\n    <div>\n      <div>\n        Copy the text below, paste into the load ui or put somewhere on the net\n        and make your own URL with <code>{window.location.origin}?src=url-to-json</code>.\n      </div>\n      <pre style={{userSelect: 'all'}}>{JSON.stringify(data)}</pre>\n      <div><a href={`${window.location.origin}?src=${encodeURIComponent(`${window.location.origin}/example.json`)}`}>Example</a></div>\n    </div>\n  );\n}","import React from 'react';\nimport {decode, encode} from 'base64-arraybuffer';\nimport {inflate, deflate} from 'uzip-module';\n\nconst utf8Encoder = new TextEncoder();\nconst utf8Decoder = new TextDecoder();\nconst compressedPrefix = 'cb64,';\nconst uncompressedPrefix = 'b64,';\n\nexport const isCompressedBase64 = s => s.startsWith(compressedPrefix) || s.startsWith(uncompressedPrefix);\nexport function compressedBase64ToJSON(src) {\n  const isCompressed = src.startsWith(compressedPrefix);\n  const prefix = isCompressed ? compressedPrefix : uncompressedPrefix;\n  const base64 = src.substr(prefix.length)\n     .replace(/-/g, '+')\n     .replace(/_/g, '/');\n  const raw = new Uint8Array(decode(base64));\n  const bin = isCompressed \n     ? inflate(raw)\n     : raw;\n  const json = utf8Decoder.decode(bin);\n  return JSON.parse(json);\n}\n\nexport function jsonToCompressedBase64(data) {\n  const json = JSON.stringify(data);\n  const bin = utf8Encoder.encode(json);\n  const compressed = deflate(bin);\n  const useCompressed = compressed.length < bin.length;\n  const base64 = encode(useCompressed ? compressed : bin)\n      .replace(/\\+/g, '-')    // better for URLs because + and / have to be escaped\n      .replace(/\\//g, '_');\n  const prefix = useCompressed ? compressedPrefix : uncompressedPrefix;\n  return `${prefix}${base64}`;\n}\n\nexport default function SaveAsURL(props) {\n  const {data} = props;\n  const src = jsonToCompressedBase64(data);\n  const url = `${window.location.origin}?src=${encodeURIComponent(src)}`;\n  return (\n    <div>\n      <div>Copy / bookmark the link below</div>\n      <a className=\"bookmark\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">{url}</a>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function Embed(props) {\n  const {gistId} = props;\n  return (\n    <div>\n      <div>\n        <p>\n        You can embed a jsGist by creating an iframe pointing to\n        {' '}<code>jsgist.org/embed.html?src=&lt;src&gt;</code>{' '} where\n        {' '}<code>&lt;src&gt;</code>{' '} is one of the forms above.\n        </p>\n        { gistId\n          ? (\n            <React.Fragment>\n              <p>\n              For example:\n              </p>\n              <pre><code>\n      &lt;iframe src=\"https://jsgist.org/embed.html?src={gistId}\" &gt;&lt;/iframe&gt;\n              </code></pre>\n            </React.Fragment>\n          )\n          : []\n        }\n        <p>\n        </p>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport Dialog from './Dialog.js';\nimport SaveAsGist from './SaveAsGist.js';\nimport SaveAsJSON from './SaveAsJSON.js';\nimport SaveAsURL from './SaveAsURL.js';\nimport Section from './Section.js';\nimport Embed from './Embed.js';\n\nexport default function Save(props) {\n  const {data, github, gistId, onSave, onClose, addError} = props;\n  return (\n    <Dialog title=\"Save As\" onClose={onClose}>\n      <Section heading=\"Save As Gist\">\n        <SaveAsGist gistId={gistId} github={github} data={data} onClose={onClose} onSave={onSave} addError={addError} />\n      </Section>\n      <Section heading=\"Save As URL\">\n        <SaveAsURL data={data} />\n      </Section>\n      <Section heading=\"Save As JSON\">\n        <SaveAsJSON data={data} />\n      </Section>\n      <Section heading=\"Embedding\">\n        <Embed gistId={gistId} />\n      </Section>\n    </Dialog>\n  )\n}\n","import React from 'react';\nimport Dialog from './Dialog.js';\n\nimport verticalIcon from './icons/vertical-layout.svg';\nimport horizontalIcon from './icons/horizontal-layout.svg';\nimport twoByTwoIcon from './icons/two-by-two-layout.svg';\nimport {classNames} from './css-utils.js';\n\nfunction RadioOption(props) {\n  const {children, onChange, selected} = props;\n  return (\n    <div className={classNames({radioSelected: selected})} onClick={onChange}>\n      {children}\n    </div>\n  );\n}\n\nfunction Radio(props) {\n  const {selectedNdx, onChange, children} = props;\n\n  let childNdx = 0;\n  const newChildren = React.Children.map(children, (child) => {\n    if (!React.isValidElement(child)) {\n      return null;\n    }\n\n    const selected = childNdx === selectedNdx;\n\n    const id = childNdx;\n    childNdx += 1;\n    return React.cloneElement(child, {\n      //...child.props,\n      selected,\n      onChange: () => onChange(id),\n    });\n  });\n\n\n  return (\n    <div class=\"radio\">\n      {newChildren}\n    </div>\n  );\n}\n\nexport default function Save(props) {\n  const {onClose} = props;\n\n  return (\n    <Dialog title=\"Settings\" onClose={onClose}>\n      <Radio selectedNdx={0} onChange={(v) => {console.log(v)}}>\n        <RadioOption><img style={{height: '2em'}} src={verticalIcon} alt=\"vertical\"/></RadioOption>\n        <RadioOption><img style={{height: '2em'}} src={horizontalIcon} alt=\"horizontal\"/></RadioOption>\n        <RadioOption><img style={{height: '2em'}} src={twoByTwoIcon} alt=\"2x2\" /></RadioOption>\n      </Radio>\n    </Dialog>\n  )\n}\n","import React from 'react';\n\nconst defaultGutterSize = 10;\nconst defaultDirection = 'horizontal';\nconst defaultMinSize = 10;\n\nfunction distribute(items, buckets) {\n  const base = items / buckets | 0;\n  const extra = items % buckets;\n  const array = new Array(buckets).fill(base);\n  if (extra === 0) {\n    return array;\n  } else if (extra <= buckets / 2 | 0) {\n    const leap = buckets / extra | 0;\n    const halfLeap = leap / 2 | 0; \n    return array.map((v, i) => v + ((i % leap === halfLeap) ? 1 : 0));\n  } else {\n    const leap = buckets / (buckets - extra) | 0;\n    const halfLeap = leap / 2 | 0;\n    return array.map((v, i) => v + (1 - (i % leap === halfLeap ? 1 : 0)));\n  }\n}\n\nfunction normalizeSizes(sizes) {\n  const totalSize = sizes.reduce((sum, v) => sum + v, 0);\n  return sizes.map(v => v / totalSize);\n}\n\nfunction addSpaceForChildren(sizes, numChildren, gutterSize, minSizePX, totalSizePX) {\n  // const numGutters = numChildren - 1;\n  // const totalGutterSpacePX = numGutters * gutterSize;\n  // const availableSpacePX = totalSizePX - totalGutterSpacePX;\n  //\n  // this is not so trivial\n  // let's say we have 3 items and we add 2 more.\n  // each of those 2 has a minSize. So need to take 2 * minSize\n  // from the 3 items or (2 * minSize / 3). But any of those items\n  // themselves might already be at or near minSize\n  //\n  // This seems like it's then iterative.\n  //\n  // go through and try to remove (minSize * numNewElements / numOldElements)\n  // from each old element but only remove such that that element\n  // is still >= minSize. When done there's possibly some amount\n  // you haven't distributed yet so repeat the process over and over\n  // until it's all distributed.\n  //\n  // given that we don't know which elements are new, for now\n  // lets just reset all the sizes\n  return new Array(numChildren).fill(1 / numChildren);\n}\n\nconst getDirectionProps = direction => (direction === 'horizontal')\n  ? {\n      dimension: 'width',\n      clientAxis: 'clientX',\n      position: 'left',\n      positionEnd: 'right',\n      clientSize: 'clientWidth',\n      style: {\n        width: '100%',\n        display: 'flex',\n      },\n    }\n  : {\n      dimension: 'height',\n      clientAxis: 'clientY',\n      position: 'top',\n      positionEnd: 'bottom',\n      clientSize: 'clientHeight',\n      style: { height: '100%' },\n    };\n\nfunction computeNewSizes({\n  startSizes,\n  currentSizes,\n  prevPaneNdx,\n  gutterSize,\n  minSize,\n  deltaPX,\n  outerSizePX,\n}) {\n  const numPanes = currentSizes.length;\n  const numGutters = numPanes - 1;\n  const totalGutterSizePX = numGutters * gutterSize;\n\n  const gutterReservedSizesPX = distribute(totalGutterSizePX, numPanes);\n\n  const nextPaneNdx = prevPaneNdx + 1;\n  const prevPaneStartSizePX = Math.ceil(startSizes[prevPaneNdx] * outerSizePX) - gutterReservedSizesPX[prevPaneNdx];\n  const nextPaneStartSizePX = Math.ceil(startSizes[nextPaneNdx] * outerSizePX) - gutterReservedSizesPX[nextPaneNdx];\n  const spaceUsedByBothElementsPX = prevPaneStartSizePX + nextPaneStartSizePX;\n  const prevPaneNewSizePX = Math.min(\n    Math.max(minSize, prevPaneStartSizePX + deltaPX),\n    spaceUsedByBothElementsPX - minSize);\n  const nextPaneNewSizePX = spaceUsedByBothElementsPX - prevPaneNewSizePX;\n  const newSizes = [\n    ...currentSizes.slice(0, prevPaneNdx),\n    (prevPaneNewSizePX + gutterReservedSizesPX[prevPaneNdx]) / outerSizePX,\n    (nextPaneNewSizePX + gutterReservedSizesPX[nextPaneNdx]) / outerSizePX,\n    ...currentSizes.slice(prevPaneNdx + 2, currentSizes.length),\n  ];\n\n  /*\n  const availableSpacePX = outerSizePX - totalGutterSizePX;\n  const info = `\n  gutterReservedSizes: ${gutterReservedSizesPX}\n  availableSpacePX: ${availableSpacePX}\n  prevStartSizePX: ${prevPaneStartSizePX}\n  nextStartSizePX: ${nextPaneStartSizePX}\n  spaceUsedByBothElementsPX: ${spaceUsedByBothElementsPX}\n  prevNewSizePX: ${prevPaneNewSizePX}\n  nextNewSizePX: ${nextPaneNewSizePX}\n  sizes: ${currentSizes}\n  newSizes: ${newSizes}\n  `;\n  const infoElem = document.querySelector('#info');\n  infoElem.textContent = info;\n  */\n\n  return newSizes;\n}\n\nexport default class GManSplit extends React.Component {\n  constructor(props) {\n    super(props);\n    const numPanes = React.Children.count(props.children);\n    const size = 1 / numPanes;\n    this.state = {\n      sizes: new Array(numPanes).fill(size),\n    };\n    this.elementRef = React.createRef();\n  }\n  _setSizes = (sizes) => {\n    this.setState({sizes});\n  }\n  handleMouseUp = () => {\n    document.removeEventListener(\"mousemove\", this.handleMouseMove);\n    document.removeEventListener(\"mouseup\", this.handleMouseUp);\n    this.setState({dragging: false});\n  };\n  handleMouseMove = (e) => {\n    const {\n      gutterSize = defaultGutterSize,\n      direction = defaultDirection,\n      minSize = defaultMinSize,\n      computeNewSizesFn = computeNewSizes,\n      onSetSizes,\n      sizes: propSizes,\n    } = this.props;\n    const {\n      prevPaneNdx,\n      mouseStart,\n      startSizes,\n      sizes: stateSizes,\n    } = this.state;\n    const setSizes = onSetSizes || this._setSizes;\n    const sizes = onSetSizes ? propSizes : stateSizes;\n\n    const {\n      clientAxis,\n      clientSize,\n    } = getDirectionProps(direction);\n\n    const deltaPX = e[clientAxis] - mouseStart;\n    const outerSizePX = this.elementRef.current[clientSize];\n\n    const newSizes = computeNewSizesFn({\n      startSizes,\n      currentSizes: sizes,\n      prevPaneNdx,\n      gutterSize,\n      minSize,\n      deltaPX,\n      outerSizePX,\n    });\n\n    setSizes(newSizes);\n  };\n  handleMouseDown = (e) => {\n    const {\n      direction = defaultDirection,\n    } = this.props;\n    const {\n      clientAxis,\n    } = getDirectionProps(direction);\n\n    document.addEventListener(\"mousemove\", this.handleMouseMove);\n    document.addEventListener(\"mouseup\", this.handleMouseUp);\n    const gutterNdx = Array.prototype.indexOf.call(e.target.parentElement.children, e.target);\n    const prevPaneNdx = (gutterNdx - 1) / 2;    \n    this.setState({\n      startSizes: this.state.sizes.slice(),\n      mouseStart: e[clientAxis],\n      prevPaneNdx,\n      dragging: true,\n    });\n  };\n  recomputeSizes = () => {\n    // here it's not entirely clear what to do. Maybe we need options\n    // If they user removes a child which sizes do they want? I guess\n    // since they removed a child they passed in new sizes so we should\n    // pass sizes back? Ugh!\n    //\n    // Example:\n    //\n    //   * start: 3 panes, sizes a(33%), b(33%), c(33%)\n    //   * user adjusts to sizes a(10%), b(90%), c(10%)\n    //   * user deletes pane (a)\n    //\n    // If we just continue to use the current sizes the we'd get\n    //\n    //   b(10%), c(90%)\n    //\n    // We have no way of knowing that b should get the 90%\n    //\n    // One way would be to pass responsibility for saving the sizes\n    // up to the parent. Basically if you want to add/remove children\n    // then you need need to keep their state. In that case\n    // passing an `onSetSize` prop. It's a function that will be called\n    // with an array of sizes.  Update your sizes and pass them in as\n    // props\n    //\n    // But, just so we don't completely fail if the user has not opted\n    // into managing the size state then at least do something.\n    const {sizes} = this.state;\n    const {minSize, direction, gutterSize} = this.props;\n    const {\n      clientSize,\n    } = getDirectionProps(direction);\n\n    const numChildren = React.Children.count(this.props.children);\n    const newSizes = numChildren < sizes.length\n      // a child was removed, normalizes the sizes\n      ? normalizeSizes(sizes.slice(0, numChildren))\n      // children were added, make space for them\n      : addSpaceForChildren(sizes, numChildren, gutterSize, minSize, this.elementRef.current.parentElement[clientSize]);\n    this._setSizes(newSizes);\n  }\n  componentDidUpdate() {\n    const {children, onSetSizes} = this.props;\n    const {sizes} = this.state;\n    // we need to check if new elements were added.\n    if (onSetSizes) {\n      return; // not our responsibility\n    }\n\n    const numChildren = React.Children.count(children);\n    if (sizes.length !== numChildren) {\n      setTimeout(this.recomputeSizes);\n    }\n  }\n  render() {\n    const {\n      children, \n      direction = defaultDirection, \n      gutterSize = defaultGutterSize, \n      sizes: propSizes,\n      onSetSizes,\n      minSize,\n      ...rest\n    } = this.props;\n    const {\n      dragging,\n      prevPaneNdx,\n      sizes: stateSizes,\n    } = this.state;\n    const {\n      dimension,\n      style,\n    } = getDirectionProps(direction);\n\n    const sizes = onSetSizes ? propSizes : stateSizes;\n    const numPanes = React.Children.count(children);\n    const numGutters = numPanes - 1;\n    const totalGutterSpace = gutterSize * numGutters;\n    const gutterStyle = {[dimension]: `${gutterSize}px`};\n    const gutterReservedSizes = distribute(totalGutterSpace, numPanes);\n\n    let childNdx = 0;\n    let first = true;\n    const newChildren = [];\n    React.Children.forEach(children, (child, props) => {\n      if (!React.isValidElement(child)) {\n        return null;\n      }\n      if (!first) {\n        newChildren.push(\n          <div\n            key={`gutter${newChildren.length}`}\n            className={`gutter gutter-${direction} ${dragging && childNdx === prevPaneNdx + 1 ? 'gutter-dragging' : ''}`}\n            style={gutterStyle}\n            onMouseDown={this.handleMouseDown}\n          />\n        );\n      }\n\n      const style = {\n        ...child.props.style,\n        [dimension]: `calc(${sizes[childNdx] * 100}% - ${gutterReservedSizes[childNdx]}px)`\n      };\n\n      newChildren.push(\n        React.cloneElement(child, {\n          key: `pane${newChildren.length}`,\n          style,\n          ...child.props\n        })\n      );\n      first = false;\n      ++childNdx;\n    });\n    return (\n      <div\n        className=\"split\"\n        ref={this.elementRef}\n        style={{\n          ...this.props.style,\n          ...style,\n          ...(dragging && {userSelect: 'none'})\n        }}\n        {...rest}\n      >\n        {newChildren}\n      </div>\n    );\n  }\n}\n\n/*\ndirection\nsizes\nonSetSizes\ncompute\n\n*/\n\n","import React from 'react';\n//import {Resizable} from 're-resizable';\nimport Code from './Code.js';\nimport {classNames} from './css-utils.js';\n\nexport default function CodeArea(props) {\n  const {value, hackKey, heading, extra = [], options = {}, onValueChange} = props;\n  return (\n    <div className=\"code-area\" style={props.style}>\n        <div className=\"expander\">\n          {heading}\n        </div>\n        <div className={classNames(\"hidee\")}>\n            <Code\n              hackKey={hackKey}\n              value={value}\n              options={options}\n              onValueChange={onValueChange}\n            />\n          {extra}\n        </div>\n    </div>\n  );\n};\n","import React from 'react';\n// import EditLine from './EditLine.js';\nimport CodeArea from './CodeArea.js';\n\nexport default function TestArea(props) {\n  const {title, hackKey} = props;\n  const heading = (\n    <div style={{width: '100%'}}>{title}</div>\n  );\n\n  return (\n    <CodeArea key={hackKey} {...props} heading={heading} />\n  );\n}\n\n/*\nexport default function TestArea(props) {\n  const {desc, title, onTitleChange, hackKey} = props;\n  const heading = (\n    <div>{title}</div>\n    <EditLine\n      placeholder={desc}\n      value={title}\n      onChange={onTitleChange}\n    />\n  );\n\n  return (\n    <CodeArea key={hackKey} {...props} heading={heading} />\n  );\n}\n*/","import React from 'react';\nimport {getOrFind} from './utils.js';\n\nexport default class Runner extends React.Component {\n  constructor(props) {\n    super(props);\n    this.divRef = React.createRef();\n  }\n  /*\n  componentDidMount() {\n    const elem = this.divRef.current;\n    const handlers = {\n      // error caught by window.addEventListener('error')\n      log(data) {\n\n      },\n    }\n\n    this.handleMessage = (e) => {\n      const {type, data} =  e.data;\n      handlers[type](data);\n  };\n    window.addEventListener('message', this.handleMessage);\n    const blob = new Blob([html], {type: 'text/html'});\n    iframe.sandbox = 'allow-scripts';\n    iframe.src = URL.createObjectURL(blob);\n    iframe.className = \"snippet\";\n    elem.appendChild(iframe);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('message', this.handleMessage);\n    if (this.iframe) {\n      this.iframe.remove();\n      this.iframe = undefined;\n    }\n  }\n  */\n  shouldComponentUpdate(nextProps, nextState) {\n    return (nextProps.data !== this.oldData);\n  }\n  makeBlobURL() {\n    this.oldData = this.props.data;\n    const data = JSON.parse(this.props.data);\n    const files = data.files;\n    const mainHTML = getOrFind(files, 'index.html', 'html');\n    const mainJS = getOrFind(files, 'index.js', 'js', 'js', 'javascript');\n    const mainCSS = getOrFind(files, 'index.css', 'css');\n    const base = process.env.NODE_ENV === 'development' ? 'http://localhost:8080' : window.location.origin;\n    const html = `\n    <${'script'} type=\"module\" src=\"${base}/console-wrapper.js\"></${'script'}>\n    <style>\n    ${mainCSS.content}\n    </style>\n    <body>\n    ${mainHTML.content}\n    </body>\n    <${'script'} type=\"module\">\n    ${mainJS.content}\n    </${'script'}>\n    `;\n    const blob = new Blob([html], {type: 'text/html'});\n    return URL.createObjectURL(blob);\n\n  }\n  render() {\n    const url = this.makeBlobURL();\n    const {blank} = this.props;\n    return (\n      <div className=\"runner\" ref={this.divRef}>\n        <iframe\n          title=\"runner\"\n          sandbox=\"\n            allow-downloads\n            allow-forms\n            allow-modals\n            allow-orientation-lock\n            allow-pointer-lock\n            allow-popups\n            allow-presentation\n            allow-scripts\n            allow-top-navigation\n          \"\n          src={url}\n          style={{...(blank && {background: 'none'})}}/>\n      </div>)\n  }\n}\n\n","import React from 'react';\n\nimport EditLine from './EditLine.js';\nimport Footer from './Footer.js';\nimport GitHub from './GitHub.js';\nimport Help from './Help.js';\nimport Load from './Load.js';\nimport * as model from './model.js';\nimport Save from './Save.js';\nimport Settings from './Settings.js';\nimport Split from './Split.js';\nimport TestArea from './TestArea.js';\nimport Runner from './Runner.js';\nimport {isCompressedBase64, compressedBase64ToJSON} from './SaveAsURL.js';\n\nimport './App.css';\n\nconst idRE = /^[a-z0-9]+$/i;\nconst isGistId = s => idRE.test(s);\n\nif (process.env.NODE_ENV === 'development') {\n  window.d = model.data;\n}\n\nconst noJSX = () => [];\nconst darkMatcher = window.matchMedia('(prefers-color-scheme: dark)');\nconst makeDisqusId = () => {\n  const loc = window.location;\n  const query = Object.fromEntries(new URLSearchParams(loc.search).entries());\n  const src = query.src;\n  return src\n      ? `${encodeURIComponent(src)}`\n      : '';\n}\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      path: window.location.pathname,\n      disqusId: makeDisqusId(),\n      dark: darkMatcher.matches,\n      loading: false,\n      dialog: noJSX,\n      dataVersion: 0,\n      gistId: '',\n      pat: localStorage.getItem('pat'),\n      runningData: JSON.stringify(model.getBlankData()),\n      blank: true,\n      messages: [],\n      userData: {},\n    };\n    this.github = new GitHub();\n  }\n  componentDidMount() {\n    this.github.addEventListener('userdata', (e) => {\n      this.setState({\n        userData: e.data,\n      });\n    });\n    model.add('path', window.location.pathname);\n    model.subscribe('path', (newValue) => {\n      window.history.pushState({}, '', newValue);\n      this.setState({\n        path: newValue,\n        disqusId: makeDisqusId(),\n      });\n    });\n    // I still am not sure how I'm supposed to handle this.\n    // Putting my model in the state itself seems wrong\n    // and doesn't actually help since I'd have to \n    // generate an entirely new state object to change any\n    // nested property.\n    //\n    // Storing the data outside I see no way to tell\n    // components to re-render except to call forceUpdate\n    // which all the documentation says \"if you call this\n    // you're doing it wrong\".\n    //\n    // Redux is a joke. 50 lines code needed to set\n    // a single field. Repeat those 50 lines for every field.\n    // Things like redux-tools make it less to type those\n    // 50 lines but they still execute 50 to 500 lines of code\n    // just to set a single value.\n    model.subscribe('dataVersion', (dataVersion) => {\n      this.setState({dataVersion})\n    });\n    // this is a hack because I can't figure out how to\n    // update the CodeMirror areas\n    model.subscribe('updateVersion', (updateVersion) => {\n      this.setState({updateVersion})\n    });\n\n    darkMatcher.addEventListener('change', () => {\n      this.setState({dark: darkMatcher.matches});\n    });\n\n    const query = Object.fromEntries(new URLSearchParams(window.location.search).entries());\n    const backup = localStorage.getItem('backup');\n    let loaded = false;\n    if (backup) {\n      try {\n        const data = JSON.parse(backup);\n        if (data.href === window.location.href) {\n          model.setData(data.data);\n          loaded = true;\n          this.addInfo('loaded backup from local storage')\n        }\n      } catch (e) {\n        console.log('bad backup')\n      }\n      localStorage.removeItem('backup');\n    }\n    if (!loaded && query.src) {\n      this.loadData(query.src);\n    }\n  }\n  async loadData(src) {\n    this.setState({loading: true});\n    let success = true;\n    try {\n      if (isGistId(src)) {\n        const data = await this.github.getAnonGist(src);\n        model.setData(data);\n        this.setState({gistId: src})\n      } else if (isCompressedBase64(src)) {\n        const data = compressedBase64ToJSON(src);\n        model.setData(data);\n      } else {\n        const res = await fetch(src);\n        const data = await res.json();\n        model.setData(data);\n      }\n    } catch (e) {\n      success = false;\n      console.warn(e);\n      this.addError(`could not load jsGist: src=${src} ${e}`);\n    }\n    this.setState({loading: false});\n    if (success) {\n      this.handleRun();\n    }\n  }\n  addMsg = (msg, className) => {\n    this.setState({messages: [{msg, className}, ...this.state.messages]});\n    setTimeout(() => {\n      this.setState({messages: this.state.messages.slice(0, this.state.messages.length - 1)});\n    }, 5000);\n  }\n  addInfo = (msg) => this.addMsg(msg, 'info');\n  addError = (msg) => this.addMsg(msg, 'error');\n  closeDialog = () => {\n    this.setState({dialog: noJSX});\n  }\n  handleNew = async() => {\n    window.location.href = window.location.origin;\n    //window.history.pushState({}, '', `${window.location.origin}`);\n    //model.setData(model.getNewData());\n  }\n  handleRun = async () => {\n    localStorage.setItem('backup', JSON.stringify({\n      href: window.location.href,\n      data: model.data,\n    }));\n    this.setState({\n      // We pass in JSON because we need to check if anything changed\n      // If we passed in an object we'd have to do a deep compare.\n      // We need to check if it changed because since we're generating\n      // a blob we'll end up with a new random number every time\n      // which means our virtual dom changes which means we'll get\n      // re-rendered, even though we aren't actually different.\n      runningData: JSON.stringify(model.data),\n      blank: false,\n    })\n  }\n  handleStop = async () => {\n    this.setState({\n      runningData: JSON.stringify(model.getBlankData()),\n      blank: true,\n    })\n  }\n  handleSave = async () => {\n    this.setState({dialog: this.renderSave});\n  }\n  handleSettings = () => {\n    this.setState({dialog: this.renderSettings});\n  }\n  handleHelp = () => {\n    this.setState({dialog: this.renderHelp});\n  }\n  handleLoad = () => {\n    this.setState({dialog: this.renderLoad});\n  }\n  handleOnLoad = async() => {\n    this.setState({dialog: noJSX});\n    this.handleRun();\n  }\n  handleOnSave = (gistId) => {\n    window.history.pushState({}, '', `${window.location.origin}?src=${gistId}`);\n    this.setState({dialog: noJSX, gistId});\n  }\n  handleAbort = () => {\n    this.abort();\n  };\n  renderHelp = () => {\n    return (<Help onClose={this.closeDialog} />);\n  }\n  renderSettings = () => {\n    return (\n      <Settings onClose={this.closeDialog} />\n    );\n  }\n  renderLoad = () => {\n    return (\n      <Load\n        onLoad={this.handleOnLoad}\n        onClose={this.closeDialog}\n        addError={this.addError}\n        github={this.github}\n      />\n    );\n  }\n  renderSave = () => {\n    const data = model.data;\n    return (\n      <Save\n        onSave={this.handleOnSave}\n        onClose={this.closeDialog}\n        addError={this.addError}\n        github={this.github}\n        gistId={this.state.gistId}\n        data={data} />\n    );\n  }\n  render() {\n    const data = model.data;\n    const {\n      loading,\n      blank,\n      dialog,\n      // disqusId,\n      runningData,\n      updateVersion: hackKey,\n      userData,\n    } = this.state;\n    const extra = [];\n    return (\n      <div className=\"App\">\n        <div className=\"content\">\n          <div className=\"head\">\n            <div>\n              <img src=\"/resources/images/logo.svg\" alt=\"logo\"/>\n            jsGist.org<span className=\"beta\">(alpha)</span>\n            </div>\n            <div>\n            <a href=\"https://github.com/greggman/jsgist/\">\n              <img alt=\"github\" src=\"/resources/images/octocat-icon.svg\"/>\n            </a>\n            </div>\n          </div>\n          <div className=\"top\">\n            <div className=\"left\">\n              <div className=\"name\">\n                <EditLine value={data.name} onChange={v => model.setName(v)} />\n                <div className=\"username\"><a target=\"_blank\" rel=\"noopener noreferrer\" href={`https://github.com/${userData.name}`}>{userData.name}</a></div>\n                {userData.avatarURL ? <a target=\"_blank\" rel=\"noopener noreferrer\" href={`https://github.com/${userData.name}`}><img className=\"avatar\" src={userData.avatarURL} alt=\"avatar\"/></a> : []}\n              </div>\n            </div>\n            <div className=\"right\">\n              <button tabIndex=\"1\" onClick={this.handleRun}>Run</button>\n              <button tabIndex=\"1\" onClick={this.handleStop}>Stop</button>\n              <button tabIndex=\"1\" onClick={this.handleSave}>Save</button>\n              <button tabIndex=\"1\" onClick={this.handleNew}>New</button>\n              <button tabIndex=\"1\" onClick={this.handleLoad}>Load</button>\n              {/*<button tabIndex=\"1\" onClick={this.handleSettings} title=\"settings\"><img src={`${window.location.origin}/resources/images/gear.svg`} alt=\"settings\"></img></button>*/}\n              <button tabIndex=\"1\" onClick={this.handleHelp} title=\"help\">?</button>\n            </div>\n          </div>\n          {\n            loading ? [] : (\n              <div className=\"bottom\">\n                <Split direction=\"horizontal\" minSize={0}>\n                  <div className=\"left\">\n                    <div className=\"codes\">\n                    <Split\n                      direction=\"vertical\"\n                      minSize={0}\n                    >\n                    {\n                      data.files.map((file, ndx) => {\n                        return (\n                          <TestArea\n                            key={`ca${ndx}`}\n                            hackKey={hackKey}\n                            desc=\"filename\"\n                            title={file.name}\n                            value={file.content}\n                            onTitleChange={name => model.setFileName(ndx, name)}\n                            onValueChange={value => model.setFileContent(ndx, value)}\n                            extra={extra}\n                          />\n                        );\n                      })\n                    }\n                    </Split>\n                    </div>\n                      {/*<button onClick={() => model.addFile()}>+</button>*/}\n                  </div>\n                  <div className=\"right\">\n                    <Runner data={runningData} blank={blank} />\n                  </div>\n                </Split>\n              </div>\n            )\n          }\n        </div>\n        <Footer\n          disqusId={makeDisqusId()}\n          title={data.name}\n        />\n        {dialog()}\n        <div className=\"messages\">\n          {\n            this.state.messages.map(({msg, className}, i) => (<div className={className} key={`err${i}`}>{msg}</div>))\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/vertical-layout.f248a432.svg\";","module.exports = __webpack_public_path__ + \"static/media/horizontal-layout.e3f3298b.svg\";","module.exports = __webpack_public_path__ + \"static/media/two-by-two-layout.23605ce8.svg\";"],"sourceRoot":""}